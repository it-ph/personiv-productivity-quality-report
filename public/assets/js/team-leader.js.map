{"version":3,"sources":["team-leader.module.js","team-leader.routes.js","controllers/activity-content-container.controller.js","controllers/approvals-content-container.controller.js","controllers/create-member-content-container.controller.js","controllers/edit-member-content-container.controller.js","controllers/edit-report-content-container.controller.js","controllers/left-sidenav.controller.js","controllers/main-content-container.controller.js","controllers/main-monthly-content-container.controller.js","controllers/members-content-container.controller.js","controllers/notification.toast.controller.js","controllers/report-content-container.controller.js","controllers/dialogs/add-member-dialog.controller.js","controllers/dialogs/approvals-dialog.controller.js","controllers/dialogs/approved-approvals-details-dialog.controller.js","controllers/dialogs/declined-approvals-details-dialog.controller.js","controllers/dialogs/download-report-dialog.controller.js","controllers/dialogs/edit-member-dialog.controller.js","controllers/dialogs/evaluate-dialog.controller.js","controllers/dialogs/performance-monthly-view-dialog.controller.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"team-leader.js","sourcesContent":["var teamLeaderModule = angular.module('teamLeaderModule', [\r\n\t/* Shared Module */\r\n\t'sharedModule'\r\n]); ","teamLeaderModule\r\n\t.config(['$stateProvider', function($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main', {\r\n\t\t\t\turl:'/',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/main.view.html',\r\n\t\t\t\t\t\tcontroller: 'mainViewController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/sidenavs/main-left.sidenav.html',\r\n\t\t\t\t\t\tcontroller: 'leftSidenavController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content-container@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'mainMonthlyContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/content/main-monthly.content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'right-sidenav@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/sidenavs/main-monthly-right.sidenav.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.weekly-report',{\r\n\t\t\t\turl:'weekly-report',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'mainContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.weekly-report': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.weekly-report': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/main.content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'right-sidenav@main.weekly-report': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/sidenavs/main-right.sidenav.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t.state('main.activity',{\r\n\t\t\t\turl:'activities',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'activityContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.activity': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.activity': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/content/activity.content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t.state('main.members', {\r\n\t\t\t\turl:'members',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'membersContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.members': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.members':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/content/members.content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.create-member', {\r\n\t\t\t\turl:'member/create',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'createMemberContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.create-member': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.create-member':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/content/create-member-content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.edit-member', {\r\n\t\t\t\turl:'member/{memberID}/edit',\r\n\t\t\t\tparams: {memberID:null},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'editMemberContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.edit-member': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.edit-member':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/content/edit-member-content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.report', {\r\n\t\t\t\turl:'report',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'reportContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.report': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.report':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/content/report.content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'right-sidenav@main.report':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/sidenavs/report-right.sidenav.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonEnter: ['$state', 'User', function($state, User){\r\n\t\t\t\t\tUser.index()\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\tif(data.role == 'manager'){\r\n\t\t\t\t\t\t\t\t$state.go('page-not-found');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}],\r\n\t\t\t})\r\n\t\t\t.state('main.edit-report',{\r\n\t\t\t\turl:'edit-report/{reportID}',\r\n\t\t\t\tparams: {'reportID':null},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'editReportContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.edit-report': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.edit-report':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/content/edit-report.content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tonEnter: ['$state', 'User', function($state, User){\r\n\t\t\t\t\tUser.index()\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\tif(data.role == 'manager'){\r\n\t\t\t\t\t\t\t\t$state.go('page-not-found');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}],\r\n\t\t\t})\r\n\t\t\t.state('main.approvals',{\r\n\t\t\t\turl:'approvals',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'approvalsContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.approvals': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.approvals':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/content/approval.content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tonEnter: ['$state', 'User', function($state, User){\r\n\t\t\t\t\tUser.index()\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\tif(data.role == 'manager'){\r\n\t\t\t\t\t\t\t\t$state.go('page-not-found');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}],\r\n\t\t\t})\r\n\r\n\t}]);","teamLeaderModule\r\n\t.controller('activityContentContainerController', ['$scope', '$mdDialog', 'Activity', 'Preloader', 'User',  function($scope, $mdDialog, Activity, Preloader, User){\r\n\t\t$scope.form = {};\r\n\t\t$scope.activity = {};\r\n\t\t$scope.months = [\r\n\t\t\t'January',\r\n\t\t\t'February',\r\n\t\t\t'March',\r\n\t\t\t'April',\r\n\t\t\t'May',\r\n\t\t\t'June',\r\n\t\t\t'July',\r\n\t\t\t'August',\r\n\t\t\t'September',\r\n\t\t\t'October',\r\n\t\t\t'November',\r\n\t\t\t'December',\r\n\t\t];\r\n\t\tvar dateCreated = 2016;\r\n\r\n\t\t$scope.years = [];\r\n\r\n\t\tfor (var i = new Date().getFullYear(); i >= dateCreated; i--) {\r\n\t\t\t$scope.years.push(i);\r\n\t\t};\r\n\r\n\t\t$scope.activity.month = $scope.months[new Date().getMonth()];\r\n\t\t$scope.activity.year = new Date().getFullYear();\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.hideSearchIcon = true;\r\n\t\t$scope.toolbar.childState = 'Activities';\r\n\t\t/**\r\n\t\t * Object for subheader\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.subheader = {};\r\n\t\t\r\n\t\t$scope.subheader.refresh = function(){\r\n\t\t\tPreloader.preload();\r\n\t\t\t$scope.init(true);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Status of search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.searchBar = false;\r\n\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.toolbar.userInput = '';\r\n\t\t\t$scope.searchBar = false;\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.report.show = false;\r\n\t\t};\r\n\r\n\t\t$scope.showDetails = function(id){\r\n\t\t\tPreloader.set(id);\r\n\t\t\t$mdDialog.show({\r\n\t\t    \tcontroller: 'reportDialogController',\r\n\t\t      \ttemplateUrl: '/app/shared/templates/dialogs/report.dialog.template.html',\r\n\t\t      \tparent: angular.element(document.body),\r\n\t\t    })\r\n\t\t}\r\n\r\n\t\t$scope.showHistory = function(id){\r\n\t\t\tPreloader.set(id);\r\n\t\t\t$mdDialog.show({\r\n\t\t    \tcontroller: 'performanceHistoryDialogController',\r\n\t\t      \ttemplateUrl: '/app/shared/templates/dialogs/performance-history.dialog.template.html',\r\n\t\t      \tparent: angular.element(document.body),\r\n\t\t    })\r\n\t\t}\r\n\r\n\t\tvar formatItem = function(activity){\r\n\t\t\tactivity.created_at = new Date(activity.created_at);\r\n\t\t\tactivity.first_letter = activity.user.first_name.charAt(0).toUpperCase();\r\n\r\n\t\t\treturn activity;\r\n\t\t}\r\n\r\n\t\t$scope.search = function(){\r\n\t\t\tPreloader.preload();\r\n\t\t\t/* Submitted */\r\n\t\t\tActivity.reportSubmitted($scope.activity)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tangular.forEach(data, function(item){\r\n\t\t\t\t\t\tformatItem(item);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t$scope.submitted = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\r\n\t\t\t/* Updated */\r\n\t\t\tActivity.reportUpdated($scope.activity)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tangular.forEach(data, function(item){\r\n\t\t\t\t\t\tformatItem(item);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t$scope.updated = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\r\n\t\t\t/* Deleted */\r\n\t\t\tActivity.reportDeleted($scope.activity)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tangular.forEach(data, function(item){\r\n\t\t\t\t\t\tformatItem(item);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\tPreloader.stop();\r\n\r\n\t\t\t\t\t$scope.deleted = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\t$scope.init = function(refresh){\r\n\t\t\t/* Submitted */\r\n\t\t\tActivity.reportSubmitted()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tangular.forEach(data, function(item){\r\n\t\t\t\t\t\tformatItem(item);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$scope.submitted = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\r\n\t\t\t/* Updated */\r\n\t\t\tActivity.reportUpdated()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tangular.forEach(data, function(item){\r\n\t\t\t\t\t\tformatItem(item);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t$scope.updated = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\r\n\t\t\t/* Deleted */\r\n\t\t\tActivity.reportDeleted()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tangular.forEach(data, function(item){\r\n\t\t\t\t\t\tformatItem(item);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t$scope.deleted = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\r\n\t\t\tif(refresh){\r\n\t\t\t\tPreloader.stop();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$scope.init();\r\n\t}]);","teamLeaderModule\r\n\t.controller('approvalsContentContainerController', ['$scope', '$mdDialog', 'PerformanceApproval', 'Approval', 'Preloader', 'User',  function($scope, $mdDialog, PerformanceApproval, Approval, Preloader, User){\r\n\t\t$scope.form = {};\r\n\t\t$scope.approval = {};\r\n\t\t$scope.months = [\r\n\t\t\t'January',\r\n\t\t\t'February',\r\n\t\t\t'March',\r\n\t\t\t'April',\r\n\t\t\t'May',\r\n\t\t\t'June',\r\n\t\t\t'July',\r\n\t\t\t'August',\r\n\t\t\t'September',\r\n\t\t\t'October',\r\n\t\t\t'November',\r\n\t\t\t'December',\r\n\t\t];\r\n\t\tvar dateCreated = 2016;\r\n\r\n\t\t$scope.years = [];\r\n\r\n\t\tfor (var i = new Date().getFullYear(); i >= dateCreated; i--) {\r\n\t\t\t$scope.years.push(i);\r\n\t\t};\r\n\r\n\t\t$scope.approval.month = $scope.months[new Date().getMonth()];\r\n\t\t$scope.approval.year = new Date().getFullYear();\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.hideSearchIcon = true;\r\n\t\t$scope.toolbar.childState = 'Approvals';\r\n\t\t/**\r\n\t\t * Object for subheader\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.subheader = {};\r\n\t\t$scope.subheader.state = 'approvals';\r\n\t\t\r\n\t\t$scope.subheader.refresh = function(){\r\n\t\t\tPreloader.preload();\r\n\t\t\t$scope.init(true);\r\n\t\t}\r\n\r\n\t\t$scope.showPending = function(id){\r\n\t\t\tPreloader.set(id);\r\n\t\t\t$mdDialog.show({\r\n\t\t      controller: 'approvalsDialogController',\r\n\t\t      templateUrl: '/app/components/team-leader/templates/dialogs/approval.dialog.template.html',\r\n\t\t      parent: angular.element(document.body),\r\n\t\t    })\r\n\t\t    .then(function(){\r\n\t\t    \t$scope.subheader.refresh();\r\n\t\t    \t// $state.go($state.current, {}, {reload:true});\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\t$scope.showApprovedDetails = function(id){\r\n\t\t\tPreloader.set(id);\r\n\t\t\t$mdDialog.show({\r\n\t\t      controller: 'approvedApprovalsDetailsDialogController',\r\n\t\t      templateUrl: '/app/components/admin/templates/dialogs/approved-approval-details.dialog.template.html',\r\n\t\t      parent: angular.element(document.body),\r\n\t\t      clickOutsideToClose:true,\r\n\t\t    })\r\n\t\t    .then(function(){\r\n\t\t    \t$scope.subheader.refresh();\r\n\t\t    \t// $state.go($state.current, {}, {reload:true});\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\t$scope.showDeclinedDetails = function(id){\r\n\t\t\tPreloader.set(id);\r\n\t\t\t$mdDialog.show({\r\n\t\t      controller: 'declinedApprovalsDetailsDialogController',\r\n\t\t      templateUrl: '/app/components/admin/templates/dialogs/declined-approval-details.dialog.template.html',\r\n\t\t      parent: angular.element(document.body),\r\n\t\t      clickOutsideToClose:true,\r\n\t\t    })\r\n\t\t    .then(function(){\r\n\t\t    \t$scope.subheader.refresh();\r\n\t\t    \t// $state.go($state.current, {}, {reload:true});\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Status of search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.searchBar = false;\r\n\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.toolbar.userInput = '';\r\n\t\t\t$scope.searchBar = false;\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.report.show = false;\r\n\t\t};\r\n\r\n\t\t$scope.search = function(){\r\n\t\t\tPreloader.preload();\r\n\t\t\t/* Pending */\r\n\t\t\tApproval.pendingUser($scope.approval)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.pendingApprovals = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\r\n\t\t\t/* Approved */\r\n\t\t\tPerformanceApproval.approvedUser($scope.approval)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.approved = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\r\n\t\t\t/* Declined */\r\n\t\t\tPerformanceApproval.declinedUser($scope.approval)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.declined = data;\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\t$scope.init = function(refresh){\r\n\t\t\t/* Pending */\r\n\t\t\tApproval.pendingUser()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.pendingApprovals = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\r\n\t\t\t/* Approved */\r\n\t\t\tPerformanceApproval.approvedUser()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.approved = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\r\n\t\t\t/* Declined */\r\n\t\t\tPerformanceApproval.declinedUser()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.declined = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\r\n\t\t\tif(refresh){\r\n\t\t\t\tPreloader.stop();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$scope.init();\r\n\t}]);","teamLeaderModule\r\n\t.controller('createMemberContentContainerController', ['$scope', '$state', 'Project', 'Member', 'Experience', 'Preloader', function($scope, $state, Project, Member, Experience, Preloader){\r\n\t\t$scope.form = {};\r\n\t\t$scope.member = {};\r\n\t\t$scope.member_projects = [];\r\n\t\t$scope.maxDate = new Date();\r\n\r\n\t\tProject.index()\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.projects = data;\r\n\t\t\t\tangular.forEach(data, function(item, key){\r\n\t\t\t\t\t$scope.member_projects.push({});\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.error(function(){\r\n\t\t\t\tPreloader.error();\r\n\t\t\t})\r\n\r\n\t\tvar busy = false;\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.parentState = 'Members';\r\n\t\t$scope.toolbar.childState = 'Create';\r\n\t\t$scope.toolbar.showBack = true;\r\n\t\t$scope.toolbar.back = function(){\r\n\t\t\t$state.go('main.members');\r\n\t\t}\r\n\t\t$scope.toolbar.hideSearchIcon = true;\r\n\r\n\t\t/**\r\n\t\t * Object for content view\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\r\n\t\t$scope.fab.icon = 'mdi-check';\r\n\t\t$scope.fab.label = 'Submit';\r\n\t\t$scope.fab.show = true;\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\t$scope.submit();\r\n\t\t}\r\n\r\n\t\t$scope.checkDuplicate = function(){\r\n\t\t\t$scope.duplicate = false;\r\n\t\t\tMember.checkDuplicate($scope.member)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.duplicate = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\tif($scope.form.memberForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.form.memberForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t//  * Stores Single Record\r\n\t\t\t\t// Preloader.saving();\r\n\r\n\t\t\t\t// console.log($scope.member_projects);\r\n\t\t\t\tif(!busy){\r\n\t\t\t\t\tbusy = true;\r\n\r\n\t\t\t\t\tMember.store($scope.member)\r\n\t\t\t\t\t\t.then(function(data){\r\n\t\t\t\t\t\t\tif(typeof(data.data) === \"boolean\"){\r\n\t\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\treturn data.data;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(function(memberID){\r\n\t\t\t\t\t\t\tif(memberID){\r\n\t\t\t\t\t\t\t\tangular.forEach($scope.member_projects, function(item){\r\n\t\t\t\t\t\t\t\t\titem.member_id = memberID;\r\n\t\t\t\t\t\t\t\t\tif(item.project){\r\n\t\t\t\t\t\t\t\t\t\titem.date_started = item.date_started.toDateString();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tExperience.store($scope.member_projects)\r\n\t\t\t\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\t\t\t\t$state.go('main.members');\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}, function(){\r\n\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}]);","teamLeaderModule\r\n\t.controller('editMemberContentContainerController', ['$scope', '$state', '$stateParams', 'Project', 'Member', 'Experience', 'Preloader', function($scope, $state, $stateParams, Project, Member, Experience, Preloader){\r\n\t\tvar memberID = $stateParams.memberID;\r\n\t\t$scope.form = {};\r\n\t\t$scope.member = {};\r\n\t\t$scope.member_projects = [];\r\n\t\t$scope.maxDate = new Date();\r\n\r\n\t\tvar busy = false;\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.parentState = 'Edit';\r\n\t\t$scope.toolbar.showBack = true;\r\n\t\t$scope.toolbar.back = function(){\r\n\t\t\t$state.go('main.members');\r\n\t\t}\r\n\t\t$scope.toolbar.hideSearchIcon = true;\r\n\r\n\t\t/**\r\n\t\t * Object for content view\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\r\n\t\t$scope.fab.icon = 'mdi-check';\r\n\t\t$scope.fab.label = 'Submit';\r\n\t\t$scope.fab.show = true;\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\t$scope.submit();\r\n\t\t}\r\n\r\n\t\t$scope.checkDuplicate = function(){\r\n\t\t\t$scope.duplicate = false;\r\n\t\t\tMember.checkDuplicate($scope.member)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.duplicate = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\tif($scope.form.memberForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.form.memberForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t//  * Stores Single Record\r\n\t\t\t\t// Preloader.saving();\r\n\r\n\t\t\t\t// console.log($scope.member_projects);\r\n\t\t\t\tif(!busy){\r\n\t\t\t\t\tbusy = true;\r\n\r\n\t\t\t\t\t// angular.forEach(data.experiences, function(item){\r\n\t\t\t\t\t// \titem.date_started = new Date(item.date_started);\r\n\t\t\t\t\t// });\r\n\r\n\t\t\t\t\tMember.update(memberID, $scope.member)\r\n\t\t\t\t\t\t.then(function(data){\r\n\t\t\t\t\t\t\tif(typeof(data.data) === \"boolean\"){\r\n\t\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\treturn data.data;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(function(memberID){\r\n\t\t\t\t\t\t\tif(memberID){\r\n\t\t\t\t\t\t\t\tangular.forEach($scope.member_projects, function(item){\r\n\t\t\t\t\t\t\t\t\titem.member_id = memberID;\r\n\t\t\t\t\t\t\t\t\tif(item.project){\r\n\t\t\t\t\t\t\t\t\t\titem.date_started = item.date_started.toDateString();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tExperience.store($scope.member_projects)\r\n\t\t\t\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\t\t\t\t$state.go('main.members');\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}, function(){\r\n\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$scope.init = function(){\r\n\t\t\tProject.index()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.projects = data;\r\n\t\t\t\t\tangular.forEach(data, function(item, key){\r\n\t\t\t\t\t\t$scope.member_projects.push({});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tMember.show(memberID)\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\t\t\tangular.forEach($scope.projects, function(project, project_key){\r\n\t\t\t\t\t\t\t\tExperience.relation(project.id, memberID)\r\n\t\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\t\tif(data){\r\n\t\t\t\t\t\t\t\t\t\t\tdata.date_started = new Date(data.date_started);\r\n\t\t\t\t\t\t\t\t\t\t\t$scope.member_projects.splice(project_key, 1, data);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tcount++;\r\n\r\n\t\t\t\t\t\t\t\t\t\tif(count == $scope.projects.length){\r\n\t\t\t\t\t\t\t\t\t\t\t$scope.show = true;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t$scope.toolbar.childState = data.full_name;\r\n\r\n\t\t\t\t\t\t\t$scope.member = data;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t}();\r\n\r\n\t}]);","teamLeaderModule\r\n\t.controller('editReportContentContainerController', ['$scope', '$filter', '$mdDialog', '$state', '$mdToast', '$stateParams', 'Preloader', 'Performance', 'Position', 'Project', 'PerformanceHistory', function($scope, $filter, $mdDialog, $state, $mdToast, $stateParams, Preloader, Performance, Position, Project, PerformanceHistory){\r\n\t\tvar reportID = $stateParams.reportID;\r\n\t\tvar busy = false;\r\n\t\t$scope.form = {};\r\n\r\n\t\t// $scope.hours = [\r\n\t\t// \t{'value': 8.3},\r\n\t\t// \t{'value': 9.1},\r\n\t\t// ];\r\n\r\n\t\t$scope.details = {};\r\n\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.items = [];\r\n\t\t$scope.toolbar.getItems = function(query){\r\n\t\t\tvar results = query ? $filter('filter')($scope.toolbar.items, query) : $scope.toolbar.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\t\t$scope.toolbar.childState = 'Edit Report';\r\n\t\t$scope.toolbar.showBack = true;\r\n\t\t$scope.toolbar.back = function(){\r\n\t\t\t$state.go('main.weekly-report');\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.toolbar.userInput = '';\r\n\t\t\t$scope.searchBar = false;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Object for subheader\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.subheader = {};\r\n\t\t$scope.subheader.state = 'report';\r\n\r\n\t\t$scope.deletePerformance = function(performance){\r\n\t\t\t var confirm = $mdDialog.confirm()\r\n\t\t        .title('Delete performance')\r\n\t\t        .textContent('This performance will be deleted permanently. If you would just change something you can edit this instead.')\r\n\t\t        .ariaLabel('Delete performance')\r\n\t\t        .ok('Delete')\r\n\t\t        .cancel('Cancel');\r\n\r\n\t\t    $mdDialog.show(confirm).then(function() {\r\n\t\t    \tPreloader.preload();\r\n\t\t    \tvar idx = $scope.performances.indexOf(performance);\r\n\t\t    \tPerformance.delete(performance.id)\r\n\t\t    \t\t.success(function(){\r\n\t\t    \t\t\t$scope.performances.splice(idx, 1);\r\n\t\t    \t\t\tPreloader.stop();\r\n\t\t    \t\t})\r\n\t\t    }, function() {\r\n\t\t    \treturn;\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\tvar monthDiff = function(d1, d2) {\r\n\t\t    var months;\r\n\t\t    months = (d2.getFullYear() - d1.getFullYear()) * 12;\r\n\t\t    months -= d1.getMonth() + 1;\r\n\t\t    months += d2.getMonth();\r\n\t\t    return months <= 0 ? 0 : months;\r\n\t\t}\r\n\r\n\t\tPerformance.report(reportID)\r\n\t\t\t.success(function(data){\r\n\t\t\t\tangular.forEach(data, function(performance){\r\n\t\t\t\t\tvar experience = $filter('filter')(performance.member.experiences, {project_id: performance.project_id}, true);\r\n\t\t\t\t\tperformance.date_started = new Date(experience[0].date_started);\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar tenure = monthDiff(performance.date_started, new Date(performance.date_start));\r\n\r\n\t\t\t\t\tperformance.experience = tenure < 3 ? 'Beginner' : ((tenure >= 3 && tenure < 6) ? 'Moderately Experienced' : 'Experienced');\r\n\r\n\t\t\t\t\tvar item = {};\r\n\t\t\t\t\titem.display = performance.member.full_name;\r\n\t\t\t\t\t$scope.toolbar.items.push(item);\r\n\t\t\t\t\tperformance.first_letter = performance.member.full_name.charAt(0).toUpperCase();\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$scope.performances = data;\r\n\t\t\t\t\r\n\t\t\t\t$scope.details.date_start = new Date(data[0].date_start);\r\n\t\t\t\t$scope.details.date_end = new Date(data[0].date_end);\r\n\t\t\t\t$scope.details.project_name = data[0].project.name;\r\n\t\t\t\t$scope.details.daily_work_hours = data[0].daily_work_hours;\r\n\t\t\t\t$scope.details.first_letter = data[0].project.name.charAt(0).toUpperCase();\r\n\t\t\t\t$scope.details.weekly_hours = (($scope.details.date_end - $scope.details.date_start) / (1000*60*60*24) + 1) * $scope.details.daily_work_hours;\r\n\t\t\t\t$scope.details.date_start = $scope.details.date_start.toDateString();\r\n\t\t\t\t$scope.details.date_end = $scope.details.date_end.toDateString();\r\n\r\n\t\t\t\t// Position.project(data[0].project_id)\r\n\t\t\t\t// \t.success(function(data){\r\n\t\t\t\t// \t\t$scope.positions = data;\r\n\t\t\t\t// \t});\r\n\r\n\t\t\t\tProject.show(data[0].project_id)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.project = data;\r\n\t\t\t\t\t\tangular.forEach(data.positions, function(position){\r\n\t\t\t\t\t\t\tvar targets = [];\r\n\t\t\t\t\t\t\tvar index = 0;\r\n\t\t\t\t\t\t\tangular.forEach(position.targets, function(target){\r\n\t\t\t\t\t\t\t\tvar target_effective_date = new Date(target.effective_date).setHours(0,0,0,0);\r\n\t\t\t\t\t\t\t\tif(!target.deleted_at && target_effective_date <= new Date($scope.details.date_start)){\r\n\t\t\t\t\t\t\t\t\ttargets.splice(index, 0, target);\r\n\t\t\t\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(target.deleted_at && target_effective_date < new Date($scope.details.date_start)){\r\n\t\t\t\t\t\t\t\t\ttargets.splice(index, 0, target);\r\n\t\t\t\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tif(targets.length){\r\n\t\t\t\t\t\t\t\t$scope.default = 'false';\r\n\t\t\t\t\t\t\t\tvar beginner_productivity = $filter('filter')(targets, {experience:'Beginner'}, true);\r\n\t\t\t\t\t\t\t\tvar moderately_experienced_productivity = $filter('filter')(targets, {experience:'Moderately Experienced'}, true);\r\n\t\t\t\t\t\t\t\tvar experienced_productivity = $filter('filter')(targets, {experience:'Experienced'}, true);\r\n\t\t\t\t\t\t\t\tvar quality = $filter('filter')(targets, {experience:'Experienced'}, true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\t$scope.default = 'true';\r\n\t\t\t\t\t\t\t\tvar beginner_productivity = $filter('filter')(position.targets, {experience:'Beginner', deleted_at:null}, true);\r\n\t\t\t\t\t\t\t\tvar moderately_experienced_productivity = $filter('filter')(position.targets, {experience:'Moderately Experienced', deleted_at:null}, true);\r\n\t\t\t\t\t\t\t\tvar experienced_productivity = $filter('filter')(position.targets, {experience:'Experienced', deleted_at:null}, true);\r\n\t\t\t\t\t\t\t\tvar quality = $filter('filter')(position.targets, {experience:'Experienced', deleted_at:null}, true);\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tposition.targets = [];\r\n\t\t\t\t\t\t\tposition.targets.push(beginner_productivity[0]);\r\n\t\t\t\t\t\t\tposition.targets.push(moderately_experienced_productivity[0]);\r\n\t\t\t\t\t\t\tposition.targets.push(experienced_productivity[0]);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tProject.department(data[0].department_id)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.projects = data;\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.error(function(){\r\n\t\t\t\t$state.go('page-not-found');\r\n\t\t\t});\r\n\r\n\t\t// $scope.showPositions = function(id){\r\n\t\t// \tPosition.project(id)\r\n\t\t// \t\t.success(function(data){\r\n\t\t// \t\t\t$scope.positions = data;\r\n\t\t// \t\t});\r\n\t\t// };\r\n\r\n\t\t$scope.checkAllPerformance = function(){\r\n\t\t\tangular.forEach($scope.performances, function(performance){\r\n\t\t\t\tperformance.weekly_hours = $scope.details.weekly_hours;\r\n\t\t\t\tif(performance.include){\r\n\t\t\t\t\tperformance.include = false;\r\n\t\t\t\t\t$scope.checkLimitAll = false;\r\n\t\t\t\t\t$scope.getTarget();\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tperformance.include = true;\r\n\t\t\t\t\t$scope.checkLimitAll = true;\r\n\t\t\t\t\t// $scope.checkLimit(performance);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif($scope.checkLimitAll){\r\n\t\t\t\t\tPerformance.checkLimitEditAll($scope.performances)\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t$scope.performances = data;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.checkLimit = function(data){\r\n\t\t\tvar idx = $scope.performances.indexOf(data);\r\n\t\t\t// gets the number of days worked in a day then multiply it to the daily work hours to get weekly limit\r\n\t\t\t$scope.details.current_hours_worked = data.hours_worked;\r\n\t\t\tPerformance.checkLimitEdit($scope.performances[idx].member_id, $scope.details)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.performances[idx].limit = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\t$scope.performances[idx].limit = $scope.details.weekly_hours;\r\n\t\t\t\t});\r\n\r\n\t\t\t$scope.getTarget(data);\r\n\t\t};\r\n\r\n\t\t$scope.resetMembers = function(){\r\n\t\t\tangular.forEach($scope.performances, function(item, key){\r\n\t\t\t\titem.hours_worked = null;\r\n\t\t\t\t$scope.checkLimit(item);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.getTarget = function(performance){\r\n\t\t\tvar index = $scope.performances.indexOf(performance);\r\n\t\t\tvar position = $filter('filter')($scope.project.positions, {id:performance.position_id});\r\n\t\t\tvar target = $filter('filter')(position[0].targets, {experience:performance.experience}, true);\r\n\t\t\t$scope.performances[index].target_id = target[0].id;\r\n\t\t}\r\n\r\n\t\t$scope.checkBalance = function(data){\r\n\t\t\tvar index = $scope.performances.indexOf(data);\r\n\t\t\t$scope.performances[index].balance = $scope.performances[index].limit - $scope.performances[index].hours_worked;\r\n\t\t\t$scope.performances[index].balance = $scope.performances[index].balance ? $scope.performances[index].balance.toFixed(2) : 0;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Object for content view\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\r\n\t\t$scope.fab.icon = 'mdi-check';\r\n\t\t$scope.fab.label = 'Submit';\r\n\t\t\r\n\t\t$scope.fab.show = true;\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\t$scope.showErrors = true;\r\n\t\t\tif($scope.form.editReportForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.form.editReportForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$mdDialog.show(\r\n\t\t\t\t\t$mdDialog.alert()\r\n\t\t\t\t\t\t.parent(angular.element(document.body))\r\n\t\t\t\t\t\t.clickOutsideToClose(true)\r\n\t\t\t\t        .title('Error')\r\n\t\t\t\t        .content('Please complete the forms or check the errors.')\r\n\t\t\t\t        .ariaLabel('Error')\r\n\t\t\t\t        .ok('Got it!')\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tPreloader.preload();\r\n\t\t\t\tif(!busy){\r\n\t\t\t\t\tbusy = true;\r\n\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\tangular.forEach($scope.performances, function(item){\r\n\t\t\t\t\t\titem.date_start = $scope.details.date_start;\r\n\t\t\t\t\t\titem.date_end = $scope.details.date_end;\r\n\t\t\t\t\t\titem.daily_work_hours = $scope.details.daily_work_hours;\r\n\t\t\t\t\t\tcount = item.include ? count + 1 : count;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(count){\r\n\t\t\t\t\t\tPerformanceHistory.store($scope.performances)\r\n\t\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\t\tPerformance.update(reportID, $scope.performances)\r\n\t\t\t\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\t\t\t\t$mdToast.show(\r\n\t\t\t\t\t\t\t\t\t      \t$mdToast.simple()\r\n\t\t\t\t\t\t\t\t\t\t        .content('Changes saved.')\r\n\t\t\t\t\t\t\t\t\t\t        .position('bottom right')\r\n\t\t\t\t\t\t\t\t\t\t        .hideDelay(3000)\r\n\t\t\t\t\t\t\t\t\t    );\r\n\t\t\t\t\t\t\t\t\t\t$scope.toolbar.back();\r\n\t\t\t\t\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\t$mdDialog.show(\r\n\t\t\t\t\t\t\t$mdDialog.alert()\r\n\t\t\t\t\t\t\t\t.parent(angular.element(document.body))\r\n\t\t\t\t\t\t\t\t.clickOutsideToClose(true)\r\n\t\t\t\t\t\t        .title('Report not submitted.')\r\n\t\t\t\t\t\t        .content('Empty reports are not submitted.')\r\n\t\t\t\t\t\t        .ariaLabel('Empty Report')\r\n\t\t\t\t\t\t        .ok('Got it!')\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}]);","teamLeaderModule\r\n\t.controller('leftSidenavController', ['$scope', '$mdSidenav', 'User', function($scope, $mdSidenav, User){\r\n\t\t$scope.menu = {};\r\n\t\tUser.index()\r\n\t\t\t.success(function(data){\r\n\t\t\t\tvar user = data;\r\n\t\t\t\t\r\n\t\t\t\tif(user.role=='team-leader')\r\n\t\t\t\t{\r\n\t\t\t\t\t$scope.menu.section = [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'name':'Dashboard',\r\n\t\t\t\t\t\t\t'state':'main',\r\n\t\t\t\t\t\t\t'icon':'mdi-view-dashboard',\r\n\t\t\t\t\t\t\t// 'tip': 'Dashboard: tracks your team\\'s monthly performance.',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'name':'Weekly Report',\r\n\t\t\t\t\t\t\t'state':'main.weekly-report',\r\n\t\t\t\t\t\t\t'icon':'mdi-view-carousel',\r\n\t\t\t\t\t\t\t// 'tip': 'Dashboard: tracks your team\\'s weekly performance, targets, and top performers.',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'name':'Activities',\r\n\t\t\t\t\t\t\t'state':'main.activity',\r\n\t\t\t\t\t\t\t'icon':'mdi-file-document-box',\r\n\t\t\t\t\t\t\t// 'tip': 'Approvals: shows pending request for report changes.',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'name':'Members',\r\n\t\t\t\t\t\t\t'state': 'main.members',\r\n\t\t\t\t\t\t\t'icon':'mdi-account-multiple',\r\n\t\t\t\t\t\t\t// 'tip': 'Members: manage people in your team.',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'name':'Report',\r\n\t\t\t\t\t\t\t'state': 'main.report',\r\n\t\t\t\t\t\t\t'icon':'mdi-file-document',\r\n\t\t\t\t\t\t\t// 'tip': 'Report: submit team\\'s weekly reports',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t\telse if(user.role=='manager')\r\n\t\t\t\t{\r\n\t\t\t\t\t$scope.menu.section = [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'name':'Dashboard',\r\n\t\t\t\t\t\t\t'state':'main',\r\n\t\t\t\t\t\t\t'icon':'mdi-view-dashboard',\r\n\t\t\t\t\t\t\t// 'tip': 'Dashboard: tracks your team\\'s monthly performance.',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'name':'Weekly Report',\r\n\t\t\t\t\t\t\t'state':'main.weekly-report',\r\n\t\t\t\t\t\t\t'icon':'mdi-view-carousel',\r\n\t\t\t\t\t\t\t// 'tip': 'Dashboard: tracks your team\\'s weekly performance, targets, and top performers.',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'name':'Members',\r\n\t\t\t\t\t\t\t'state': 'main.members',\r\n\t\t\t\t\t\t\t'icon':'mdi-account-multiple',\r\n\t\t\t\t\t\t\t// 'tip': 'Members: manage people in your team.',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\t$scope.menu.section = [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'name':'Dashboard',\r\n\t\t\t\t\t\t\t'state':'main',\r\n\t\t\t\t\t\t\t'icon':'mdi-view-dashboard',\r\n\t\t\t\t\t\t\t// 'tip': 'Dashboard: tracks your team\\'s weekly performance, targets, and top performers.',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'name':'Approvals',\r\n\t\t\t\t\t\t\t'state':'main.approvals',\r\n\t\t\t\t\t\t\t'icon':'mdi-file-document-box',\r\n\t\t\t\t\t\t\t// 'tip': 'Approvals: shows pending request for report changes.',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'name':'Members',\r\n\t\t\t\t\t\t\t'state': 'main.members',\r\n\t\t\t\t\t\t\t'icon':'mdi-account-multiple',\r\n\t\t\t\t\t\t\t// 'tip': 'Members: manage people in your team.',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t// set section as active\r\n\t\t$scope.setActive = function(index){\r\n\t\t \tangular.element($('[aria-label=\"'+ 'section-' + index + '\"]').closest('li').toggleClass('active'));\r\n\t\t \tangular.element($('[aria-label=\"'+ 'section-' + index + '\"]').closest('li').siblings().removeClass('active'));\r\n\t\t};\r\n\t}]);","teamLeaderModule\r\n\t.controller('mainContentContainerController', ['$scope', '$filter', '$state', '$mdToast', '$mdDialog', 'Approval', 'Preloader', 'Member', 'Position', 'Report', 'Performance', 'Target', 'User', 'WalkThrough', 'Project', function($scope, $filter, $state, $mdToast, $mdDialog, Approval, Preloader, Member, Position, Report, Performance, Target, User, WalkThrough, Project){\r\n\t\t// var user = null;\r\n\t\t// $scope.tour = {};\r\n\t\t// $scope.tour.search = 'Need to find something? I\\'ll help you find what you\\'re looking for.';\r\n\t\t// $scope.tour.notification = 'You don\\'t have to wait for the confirmation of your request. I\\'ll notify you when something needs your attention.';\r\n\t\t// $scope.tour.refresh = 'Refreshes the current displayed data.'\r\n\t\t// $scope.subheaderTour = function(){\r\n\t\t// \t$scope.subheaderTour = 0;\r\n\t\t// }\r\n\t\t// $scope.stopTours = function(){\r\n\t\t// \tWalkThrough.show(user.id)\r\n\t\t// \t\t.success(function(data){\r\n\t\t// \t\t\tif(!data){\t\t\t\r\n\t\t// \t\t\t\tWalkThrough.store(user)\r\n\t\t// \t\t\t\t\t.error(function(){\r\n\t\t// \t\t\t\t\t\tPreloader.error();\r\n\t\t// \t\t\t\t\t});asd\r\n\t\t// \t\t\t}\r\n\t\t// \t\t})\r\n\t\t// }\r\n\t\t$scope.filterDate = {};\r\n\t\t$scope.filterData = {};\r\n\t\t$scope.filterDate.type = 'Weekly';\r\n\r\n\t\t$scope.rightSidenav = {};\r\n\t\t$scope.rightSidenav.show = true;\r\n\t\t$scope.rightSidenav.items = [];\r\n\t\t$scope.rightSidenav.queryMember = function(query){\r\n\t\t\tvar results = query ? $filter('filter')($scope.rightSidenav.items, query) : $scope.rightSidenav.items;\r\n\t\t\treturn results;\r\n\t\t}\t\r\n\r\n\t\t$scope.months = [\r\n\t\t\t{'value': '01', 'month': 'January'},\r\n\t\t\t{'value': '02', 'month': 'February'},\r\n\t\t\t{'value': '03', 'month': 'March'},\r\n\t\t\t{'value': '04', 'month': 'April'},\r\n\t\t\t{'value': '05', 'month': 'May'},\r\n\t\t\t{'value': '06', 'month': 'June'},\r\n\t\t\t{'value': '07', 'month': 'July'},\r\n\t\t\t{'value': '08', 'month': 'August'},\r\n\t\t\t{'value': '09', 'month': 'September'},\r\n\t\t\t{'value': '10', 'month': 'October'},\r\n\t\t\t{'value': '11', 'month': 'November'},\r\n\t\t\t{'value': '12', 'month': 'December'},\r\n\t\t];\r\n\r\n\t\t$scope.months_array = [\r\n\t\t\t'January',\r\n\t\t\t'February',\r\n\t\t\t'March',\r\n\t\t\t'April',\r\n\t\t\t'May',\r\n\t\t\t'June',\r\n\t\t\t'July',\r\n\t\t\t'August',\r\n\t\t\t'September',\r\n\t\t\t'October',\r\n\t\t\t'November',\r\n\t\t\t'December',\r\n\t\t];\r\n\r\n\t\t$scope.years = [];\r\n\t\t\r\n\t\tvar dateCreated = 2016;\r\n\r\n\t\t// will generate the dates that will be used in drop down menu\r\n\t\tfor (var i = new Date().getFullYear(); i >= dateCreated; i--) {\r\n\t\t\t$scope.years.push(i);\r\n\t\t};\r\n\r\n\t\t$scope.filterDate.date_start_month = $scope.months_array[new Date().getMonth()];\r\n\t\t$scope.filterDate.date_start_year = $scope.years[0];\r\n\t\t\r\n\t\t$scope.getMondays = function(){\r\n\t\t\t$scope.filterDate.date_end = null;\r\n\t\t\t$scope.filterDate.date_start = null;\r\n\t\t\t$scope.filterDate.weekend = [];\r\n\t\t\tPerformance.getMondays($scope.filterDate)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.mondays = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.getWeekends = function(){\t\r\n\t\t\t$scope.filterDate.date_end = null;\t\r\n\t\t\t$scope.filterDate.weekend = [];\r\n\t\t\tPerformance.getWeekends($scope.filterDate)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.weekends = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.getPositions = function(){\r\n\t\t\tPosition.project($scope.projects[$scope.filterData.project].id)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.positions = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.clearFilter = function(){\r\n\t\t\t$scope.rightSidenav.searchText = '';\r\n\t\t\t$scope.filterData.project = '';\r\n\t\t\t$scope.filterDate.date_start = '';\r\n\t\t\t$scope.filterDate.date_end = '';\r\n\t\t\t$scope.filterData.position = '';\r\n\t\t\t$scope.filterData.submitter = '';\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.childState = 'Weekly Report';\r\n\t\t$scope.toolbar.hideSearchIcon = true;\r\n\t\t/**\r\n\t\t * Object for subheader\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.subheader = {};\r\n\t\t$scope.subheader.show = true;\r\n\t\t$scope.subheader.state = 'weekly';\r\n\r\n\t\t/* Refreshes the list */\r\n\t\t$scope.subheader.refresh = function(){\r\n\t\t\t$scope.report.show = false;\r\n\t\t\t// start preloader\r\n\t\t\tPreloader.preload();\r\n\t\t\t$scope.init(true);\r\n\r\n\t\t};\r\n\r\n\t\t$scope.subheader.download = function(){\r\n\t\t\t$mdDialog.show({\r\n\t\t    \tcontroller: 'downloadReportDialogController',\r\n\t\t      \ttemplateUrl: '/app/components/team-leader/templates/dialogs/download-report-dialog.template.html',\r\n\t\t      \tparent: angular.element(document.body),\r\n\t\t    });\r\n\t\t}\r\n\t\t\r\n\t\t$scope.subheader.evaluate = function(){\r\n\t\t\t$mdDialog.show({\r\n\t\t    \tcontroller: 'evaluateDialogController',\r\n\t\t      \ttemplateUrl: '/app/components/team-leader/templates/dialogs/evaluate-dialog.template.html',\r\n\t\t      \tparent: angular.element(document.body),\r\n\t\t    })\r\n\t\t    .then(function(data){\r\n\t\t    \tPreloader.set(data);\r\n\t\t    \tif(data.multiple)\r\n\t\t    \t{\r\n\t\t    \t\tvar template = '/app/shared/templates/dialogs/performance-evaluation-multiple.dialog.template.html' \r\n\t\t    \t}\r\n\t\t    \telse{\r\n\t\t    \t\tvar template = '/app/shared/templates/dialogs/performance-evaluation.dialog.template.html' \r\n\t\t    \t}\r\n\t\t\t\t$mdDialog.show({\r\n\t\t\t    \tcontroller: 'performanceEvaluationDialogController',\r\n\t\t\t      \ttemplateUrl: template,\r\n\t\t\t      \tparent: angular.element(document.body),\r\n\t\t\t    });\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.report.show = false;\r\n\t\t\tPreloader.preload();\r\n\t\t\tReport.search($scope.filterDate)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.report.results = data;\r\n\t\t\t\t\tangular.forEach(data, function(item){\r\n\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(data){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.show = function(data){\r\n\t\t\tPreloader.set(data);\r\n\t\t\t$mdDialog.show({\r\n\t\t    \tcontroller: 'otherPerformanceDialogController',\r\n\t\t      \ttemplateUrl: '/app/shared/templates/dialogs/other-performance.dialog.template.html',\r\n\t\t      \tparent: angular.element(document.body),\r\n\t\t      \tclickOutsideToClose:true,\r\n\t\t    });\r\n\t\t}\r\n\t\t/**\r\n\t\t * Object for content view\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\r\n\t\t// $scope.fab.icon = 'mdi-plus';\r\n\t\t// $scope.fab.label = 'Add';\r\n\t\t\r\n\t\t$scope.fab.show = false;\r\n\r\n\t\t// $scope.fab.action = function(){\r\n\t\t// \treturn;\r\n\t\t// };\r\n\r\n\t\t$scope.editReport = function(id){\r\n\t\t\t$state.go('main.edit-report', {'reportID':id});\r\n\t\t};\r\n\r\n\t\t$scope.deleteReport = function(id){\r\n\t\t\tvar confirm = $mdDialog.confirm()\r\n\t\t        .title('Delete report')\r\n\t\t        .content('This report will be deleted permanently.')\r\n\t\t        .ok('Delete')\r\n\t\t        .cancel('Cancel');\r\n\t\t    $mdDialog.show(confirm)\r\n\t\t    \t.then(function() {\r\n\t\t    \t\tPreloader.preload();\r\n\t\t\t    \tApproval.reportDelete(id)\r\n\t\t\t    \t\t.success(function(){\r\n\t\t\t    \t\t\tReport.delete(id)\r\n\t\t\t    \t\t\t\t.success(function(){\r\n\t\t\t\t\t    \t\t\tPreloader.stop();\r\n\t\t\t\t\t    \t\t\t$mdToast.show(\r\n\t\t\t\t\t\t\t\t    \t$mdToast.simple()\r\n\t\t\t\t\t\t\t\t\t        .content('Report deleted.')\r\n\t\t\t\t\t\t\t\t\t        .position('bottom right')\r\n\t\t\t\t\t\t\t\t\t        .hideDelay(3000)\r\n\t\t\t\t\t\t\t\t    );\r\n\t\t\t\t\t\t\t\t    $scope.subheader.refresh();\r\n\t\t\t    \t\t\t\t})\r\n\t\t\t    \t\t\t\t.error(function(){\r\n\t\t\t    \t\t\t\t\tPreloader.error();\r\n\t\t\t    \t\t\t\t})\r\n\t\t\t    \t\t})\r\n\t\t\t    }, function() {\r\n\t\t\t    \treturn;\r\n\t\t\t    });\r\n\t\t}\r\n\r\n\t\tvar pushItem = function(report){\r\n\t\t\treport.created_at = new Date(report.created_at);\r\n\t\t\treport.date_start = new Date(report.date_start);\r\n\t\t\treport.date_end = new Date(report.date_end);\r\n\r\n\t\t\tvar today = new Date();\r\n\t\t\tvar timeDiff = Math.abs(today.getTime() - report.created_at.getTime());\r\n\t\t\treport.diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\r\n\t\t\t\r\n\t\t\treport.locked = report.diffDays > 7 ? true : false;\r\n\r\n\t\t\t// angular.forEach(report.performances, function(performance){\r\n\t\t\t// \tvar filter = $filter('filter')(performance.member.experiences, {project_id:performance.project_id});\r\n\t\t\t// \tperformance.experience = filter[0].experience;\r\n\t\t\t// \tperformance.experience = performance.target.experience;\r\n\t\t\t// \tperformance.full_name = performance.member.full_name;\r\n\t\t\t// \tperformance.position = performance.position.name;\r\n\t\t\t// });\r\n\r\n\t\t\t// Targets\r\n\t\t\treport.project.beginner = [];\r\n\t\t\treport.project.moderately_experienced = [];\r\n\t\t\treport.project.experienced = [];\r\n\t\t\treport.project.quality = [];\r\n\r\n\t\t\tangular.forEach(report.project.positions, function(position){\r\n\t\t\t\tvar targets = [];\r\n\t\t\t\tvar index = 0;\r\n\t\t\t\tangular.forEach(position.targets, function(target){\r\n\t\t\t\t\tvar target_created_at = new Date(target.created_at).setHours(0,0,0,0);\r\n\t\t\t\t\tif(!target.deleted_at && target_created_at <= new Date(report.date_start)){\r\n\t\t\t\t\t\ttargets.splice(index, 0, target);\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(target.deleted_at && target_created_at < report.date_start){\r\n\t\t\t\t\t\ttargets.splice(index, 0, target);\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// console.log(targets);\r\n\r\n\t\t\t\tif(targets.length){\r\n\t\t\t\t\tvar beginner_productivity = $filter('filter')(targets, {experience:'Beginner'}, true);\r\n\t\t\t\t\tvar moderately_experienced_productivity = $filter('filter')(targets, {experience:'Moderately Experienced'}, true);\r\n\t\t\t\t\tvar experienced_productivity = $filter('filter')(targets, {experience:'Experienced'}, true);\r\n\t\t\t\t\tvar quality = $filter('filter')(targets, {experience:'Experienced'}, true);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tvar beginner_productivity = $filter('filter')(position.targets, {experience:'Beginner', deleted_at:null}, true);\r\n\t\t\t\t\tvar moderately_experienced_productivity = $filter('filter')(position.targets, {experience:'Moderately Experienced', deleted_at:null}, true);\r\n\t\t\t\t\tvar experienced_productivity = $filter('filter')(position.targets, {experience:'Experienced', deleted_at:null}, true);\r\n\t\t\t\t\tvar quality = $filter('filter')(position.targets, {experience:'Experienced', deleted_at:null}, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treport.project.beginner.push(beginner_productivity[0].productivity);\r\n\t\t\t\treport.project.moderately_experienced.push(moderately_experienced_productivity[0].productivity);\r\n\t\t\t\treport.project.experienced.push(experienced_productivity[0].productivity);\r\n\t\t\t\treport.project.quality.push(quality[0].quality);\r\n\t\t\t}) \r\n\r\n\t\t\t// Charts\r\n\t\t\t// report.chartType = 'bar';\r\n\t\t\t// report.charts = {};\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t// report.charts.productivity = {};\r\n\t\t\t// report.charts.productivity.data = [[]];\r\n\t\t\t// report.charts.productivity.series = ['Productivity'];\r\n\t\t\t// report.charts.productivity.labels = [];\r\n\t\t\t\r\n\t\t\t// report.charts.quality = {};\r\n\t\t\t// report.charts.quality.data = [[]];\r\n\t\t\t// report.charts.quality.series = ['Quality'];\r\n\t\t\t// report.charts.quality.labels = [];\r\n\r\n\t\t\t// angular.forEach(report.performances, function(performance, key){\r\n\t\t\t// \treport.charts.productivity.data[0].push(performance.productivity);\r\n\t\t\t// \treport.charts.quality.data[0].push(performance.quality);\r\n\t\t\t// \treport.charts.productivity.labels.push(performance.member.full_name);\r\n\t\t\t// \treport.charts.quality.labels.push(performance.member.full_name);\r\n\t\t\t// });\r\n\r\n\t\t\treturn report;\r\n\t\t}\r\n\r\n\t\t$scope.init = function(refresh){\r\n\t\t\tMember.index()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tangular.forEach(data, function(item){\r\n\t\t\t\t\t\tvar member = {};\r\n\t\t\t\t\t\tmember.full_name = item.full_name;\r\n\t\t\t\t\t\t$scope.rightSidenav.items.push(member);\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\r\n\t\t\tUser.department()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.users = data;\r\n\t\t\t\t})\r\n\r\n\t\t\tPosition.index()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.positions = data;\r\n\t\t\t\t});\r\n\r\n\t\t\tProject.index()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.projects = data;\r\n\t\t\t\t});\r\n\r\n\t\t\t$scope.getMondays();\r\n\t\t\t/**\r\n\t\t\t * Object for report\r\n\t\t\t *\r\n\t\t\t*/\r\n\t\t\t$scope.report = {};\r\n\t\t\t$scope.report.paginated = [];\r\n\t\t\t// 2 is default so the next page to be loaded will be page 2 \r\n\t\t\t$scope.report.page = 2;\r\n\r\n\t\t\tReport.paginateDetails()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.report.details = data;\r\n\t\t\t\t\t$scope.report.paginated = data.data;\r\n\t\t\t\t\t$scope.report.show = true;\r\n\r\n\t\t\t\t\tif(data.data.length){\r\n\t\t\t\t\t\t// iterate over each record and set the updated_at date and first letter\r\n\t\t\t\t\t\tangular.forEach(data.data, function(data){\r\n\t\t\t\t\t\t\tpushItem(data);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// \t$scope.fab.show = true;\r\n\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t$scope.report.paginateLoad = function(){\r\n\t\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\t\tif($scope.report.busy || ($scope.report.page > $scope.report.details.last_page)){\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t\t *\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t\t$scope.report.busy = true;\r\n\r\n\t\t\t\t\t\tReport.paginateDetails($scope.report.page)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t// increment to call the next page for the next call\r\n\t\t\t\t\t\t\t\t$scope.report.page++;\r\n\t\t\t\t\t\t\t\t// iterate over the paginated data and push it to the original array\r\n\t\t\t\t\t\t\t\tangular.forEach(data.data, function(data){\r\n\t\t\t\t\t\t\t\t\tpushItem(data);\r\n\t\t\t\t\t\t\t\t\t$scope.report.paginated.push(data);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t// enables next call\r\n\t\t\t\t\t\t\t\t$scope.report.busy = false;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif(refresh){\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.error(function(){\r\n\t\t\t\tPreloader.error();\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.init();\r\n\t}]);","teamLeaderModule\r\n\t.controller('mainMonthlyContentContainerController', ['$scope', '$filter', '$mdDialog', 'Preloader', 'Report', 'Programme', 'Member', function($scope, $filter, $mdDialog, Preloader, Report, Programme, Member){\r\n\t\t$scope.report = {};\r\n\t\t$scope.form = {};\r\n\r\n\t\t$scope.months_array = [\r\n\t\t\t'January',\r\n\t\t\t'February',\r\n\t\t\t'March',\r\n\t\t\t'April',\r\n\t\t\t'May',\r\n\t\t\t'June',\r\n\t\t\t'July',\r\n\t\t\t'August',\r\n\t\t\t'September',\r\n\t\t\t'October',\r\n\t\t\t'November',\r\n\t\t\t'December',\r\n\t\t];\r\n\r\n\t\t$scope.years = [];\r\n\t\t\r\n\t\tvar dateCreated = 2016;\r\n\r\n\t\t// will generate the dates that will be used in drop down menu\r\n\t\tfor (var i = new Date().getFullYear(); i >= dateCreated; i--) {\r\n\t\t\t$scope.years.push(i);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Object for right sidenav\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.rightSidenav = {};\r\n\t\t$scope.rightSidenav.searchText = '';\r\n\t\t$scope.rightSidenav.show = true;\r\n\t\t$scope.rightSidenav.month = $scope.months_array[new Date().getMonth()];\r\n\t\t$scope.rightSidenav.year = new Date().getFullYear();\r\n\t\t$scope.rightSidenav.items = [];\r\n\t\t$scope.rightSidenav.queryMember = function(query){\r\n\t\t\tvar results = query ? $filter('filter')($scope.rightSidenav.items, query) : $scope.rightSidenav.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\r\n\t\tMember.index()\r\n\t\t\t.success(function(data){\r\n\t\t\t\tangular.forEach(data, function(item){\r\n\t\t\t\t\tvar member = {};\r\n\t\t\t\t\tmember.full_name = item.full_name;\r\n\t\t\t\t\t$scope.rightSidenav.items.push(member);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\r\n\t\tProgramme.index()\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.hours = data;\r\n\t\t\t})\r\n\r\n\t\t$scope.clearFilter = function(){\r\n\t\t\t$scope.rightSidenav.searchText = '';\r\n\t\t\t$scope.rightSidenav.month = $scope.months_array[new Date().getMonth()];\r\n\t\t\t$scope.rightSidenav.year = new Date().getFullYear();\r\n\t\t\t$scope.rightSidenav.daily_work_hours = '';\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.childState = 'Dashboard';\r\n\t\t$scope.toolbar.hideSearchIcon = true;\r\n\t\t/**\r\n\t\t * Object for subheader\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.subheader = {};\r\n\t\t$scope.subheader.show = true;\r\n\t\t$scope.subheader.state = 'dashboard';\r\n\t\t$scope.subheader.refresh = function(){\r\n\t\t\t$scope.report = {};\r\n\t\t\tPreloader.preload();\r\n\t\t\t$scope.init(true, $scope.rightSidenav);\r\n\t\t}\r\n\r\n\t\t$scope.subheader.download = function(){\r\n\t\t\t$mdDialog.show({\r\n\t\t    \tcontroller: 'downloadReportDialogController',\r\n\t\t      \ttemplateUrl: '/app/components/team-leader/templates/dialogs/download-report-dialog.template.html',\r\n\t\t      \tparent: angular.element(document.body),\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\t// $scope.subheader.evaluate = function(){\r\n\t\t// \t$mdDialog.show({\r\n\t\t//     \tcontroller: 'evaluateDialogController',\r\n\t\t//       \ttemplateUrl: '/app/components/team-leader/templates/dialogs/evaluate-dialog.template.html',\r\n\t\t//       \tparent: angular.element(document.body),\r\n\t\t//     })\r\n\t\t//     .then(function(data){\r\n\t\t//     \tPreloader.set(data);\r\n\t\t// \t\t$mdDialog.show({\r\n\t\t// \t    \tcontroller: 'performanceEvaluationDialogController',\r\n\t\t// \t      \ttemplateUrl: '/app/shared/templates/dialogs/performance-evaluation.dialog.template.html',\r\n\t\t// \t      \tparent: angular.element(document.body),\r\n\t\t// \t    });\r\n\t\t//     });\r\n\t\t// }\r\n\t\t\r\n\t\t$scope.subheader.evaluate = function(){\r\n\t\t\t$mdDialog.show({\r\n\t\t    \tcontroller: 'evaluateDialogController',\r\n\t\t      \ttemplateUrl: '/app/components/team-leader/templates/dialogs/evaluate-dialog.template.html',\r\n\t\t      \tparent: angular.element(document.body),\r\n\t\t    })\r\n\t\t    .then(function(data){\r\n\t\t    \tPreloader.set(data);\r\n\t\t    \t\r\n\t\t    \tif(!data.department)\r\n\t\t    \t{\r\n\t\t\t\t\t$mdDialog.show({\r\n\t\t\t\t    \tcontroller: 'performanceEvaluationDialogController',\r\n\t\t\t\t      \ttemplateUrl: '/app/shared/templates/dialogs/performance-evaluation.dialog.template.html',\r\n\t\t\t\t      \tparent: angular.element(document.body),\r\n\t\t\t\t    });\r\n\t\t    \t}\r\n\t\t    \telse{\r\n\t\t    \t\t$mdDialog.show({\r\n\t\t\t\t    \tcontroller: 'performanceEvaluationDialogController',\r\n\t\t\t\t      \ttemplateUrl: '/app/shared/templates/dialogs/performance-evaluation-multiple.dialog.template.html',\r\n\t\t\t\t      \tparent: angular.element(document.body),\r\n\t\t\t\t    });\t\r\n\t\t    \t}\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\t$scope.searchFilter = function(){\r\n\t\t\tif($scope.form.filterSearchForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.form.filterSearchForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tPreloader.preload();\r\n\t\t\t\t$scope.init(true, $scope.rightSidenav);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Status of search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.searchBar = false;\r\n\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.toolbar.userInput = '';\r\n\t\t\t$scope.searchBar = false;\r\n\t\t};\r\n\r\n\t\t$scope.init = function(refresh, query){\r\n\t\t\tReport.searchMonthly(query)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tangular.forEach(data, function(report){\r\n\t\t\t\t\t\treport.count = 0;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tangular.forEach(report.positions, function(position){\r\n\t\t\t\t\t\t\tif(position.head_count){\r\n\t\t\t\t\t\t\t\treport.count += position.head_count;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t$scope.reports = data;\r\n\t\t\t\t\t// $scope.report.showCurrent = true;\r\n\r\n\t\t\t\t\t// if(query){\r\n\t\t\t\t\t// \t$scope.haveResults = data ? true: false;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// else{\r\n\t\t\t\t\t// \t$scope.haveCurrent = data ? true: false;\r\n\t\t\t\t\t// }\r\n\r\n\r\n\t\t\t\t\tif(refresh)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.view = function(data, dateStart, dateEnd){\r\n\t\t\tdata.date_start = dateStart;\r\n\t\t\tdata.date_end = dateEnd;\r\n\t\t\tPreloader.set(data);\r\n\t\t\t$mdDialog.show({\r\n\t\t    \tcontroller: 'performanceMonthlyViewDialogController',\r\n\t\t      \ttemplateUrl: '/app/components/admin/templates/dialogs/performance-monthly-view.dialog.template.html',\r\n\t\t      \tparent: angular.element(document.body),\r\n\t\t      \tclickOutsideToClose:true,\r\n\t\t    });\r\n\r\n\t\t}\r\n\r\n\t\t// $scope.init();\r\n\r\n\r\n\t}]);","teamLeaderModule\r\n\t.controller('membersContentContainerController', ['$scope', '$filter', '$state', '$mdDialog', 'Preloader', 'Member', 'User', function($scope, $filter, $state, $mdDialog, Preloader, Member, User){\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.childState = 'Members';\r\n\t\t$scope.toolbar.items = [];\r\n\t\t$scope.toolbar.getItems = function(query){\r\n\t\t\tvar results = query ? $filter('filter')($scope.toolbar.items, query) : $scope.toolbar.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\t\t/**\r\n\t\t * Object for subheader\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.subheader = {};\r\n\t\t$scope.subheader.state = 'members';\r\n\r\n\t\t/* Refreshes the list */\r\n\t\t$scope.subheader.refresh = function(){\r\n\t\t\t// start preloader\r\n\t\t\tPreloader.preload();\r\n\t\t\t$scope.init(true);\r\n\t\t};\r\n\t\t/**\r\n\t\t * Object for content view\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\r\n\t\t$scope.fab.icon = 'mdi-plus';\r\n\t\t$scope.fab.label = 'Member';\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\t$state.go('main.create-member');\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Status of search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.searchBar = false;\r\n\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.toolbar.searchText = '';\r\n\t\t\t$scope.searchBar = false;\r\n\t\t};\r\n\t\t\r\n\t\tvar pushItem = function(data){\r\n\t\t\tangular.forEach(data, function(member){\r\n\t\t\t\tmember.first_letter = member.full_name.charAt(0).toUpperCase();\r\n\t\t\t\tangular.forEach(member.experiences, function(experience){\r\n\t\t\t\t\texperience.date_started = new Date(experience.date_started);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar item = {};\r\n\t\t\t\titem.display = member.full_name;\r\n\r\n\t\t\t\t$scope.toolbar.items.push(item);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\treturn data;\r\n\t\t}\r\n\r\n\t\t\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.member.all.show = false;\r\n\t\t\tPreloader.preload();\r\n\t\t\tMember.search($scope.toolbar)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tpushItem(data);\r\n\t\t\t\t\t$scope.member.results = data;\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(data){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.editMember = function(id){\r\n\t\t\t$state.go('main.edit-member', {'memberID':id});\r\n\t\t}\r\n\r\n\t\t$scope.deleteMember = function(id){\r\n\t\t\tvar confirm = $mdDialog.confirm()\r\n\t\t        .title('Delete Member')\r\n\t\t        .content('This member will not be included to your report anymore.')\r\n\t\t        .ariaLabel('Delete Member')\r\n\t\t        .ok('Delete')\r\n\t\t        .cancel('Cancel');\r\n\t\t    $mdDialog.show(confirm).then(function() {\r\n\t\t      Member.delete(id)\r\n\t\t\t\t.success(function(){\r\n\t\t\t\t\t$scope.subheader.refresh();\r\n\t\t\t\t});\r\n\t\t    }, function() {\r\n\t\t      return;\r\n\t\t    });\t\t\t\r\n\t\t};\r\n\r\n\t\t$scope.init = function(refresh){\r\n\t\t\t$scope.member = {};\r\n\t\t\tUser.index()\r\n\t\t\t\t.then(function(data){\r\n\t\t\t\t\t$scope.fab.show = data.data.role == 'team-leader' ? true : false;\r\n\t\t\t\t\tMember.department()\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\tpushItem(data);\r\n\r\n\t\t\t\t\t\t\t$scope.member.all = data;\r\n\t\t\t\t\t\t\t$scope.member.all.show = true;\r\n\t\t\t\t\t\t\t$scope.option = true;\r\n\r\n\t\t\t\t\t\t\tif(refresh){\r\n\t\t\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.init();\r\n\t}]);","teamLeaderModule\r\n\t.controller('notificationToastController', ['$scope', '$state', 'Preloader', function($scope, $state, Preloader){\r\n\t\t$scope.notification = Preloader.getNotification();\r\n\r\n\t\t$scope.viewNotification = function(){\r\n\t\t\t$state.go($scope.notification.state);\r\n\t\t};\r\n\t}]);","teamLeaderModule\r\n\t.controller('reportContentContainerController', ['$scope', '$filter', '$state', '$mdDialog', '$mdToast', 'Preloader', 'Member', 'Project', 'Position', 'Performance', 'User', 'Programme', 'Experience', function($scope, $filter, $state, $mdDialog, $mdToast, Preloader, Member, Project, Position, Performance, User, Programme, Experience){\t\t\r\n\t\tvar user = Preloader.getUser();\r\n\t\t// var departmentID = null;\r\n\t\tvar busy = false;\r\n\t\t$scope.form = {};\r\n\r\n\t\t$scope.months = [\r\n\t\t\t'January',\r\n\t\t\t'February',\r\n\t\t\t'March',\r\n\t\t\t'April',\r\n\t\t\t'May',\r\n\t\t\t'June',\r\n\t\t\t'July',\r\n\t\t\t'August',\r\n\t\t\t'September',\r\n\t\t\t'October',\r\n\t\t\t'November',\r\n\t\t\t'December',\r\n\t\t];\r\n\t\t\r\n\t\t$scope.years = [];\r\n\t\t\r\n\t\tvar dateCreated = 2016;\r\n\r\n\t\t// will generate the dates that will be used in drop down menu\r\n\t\tfor (var i = new Date().getFullYear(); i >= dateCreated; i--) {\r\n\t\t\t$scope.years.push(i);\r\n\t\t};\r\n\r\n\t\t$scope.details = {};\r\n\t\t$scope.details.date_start_month = $scope.months[new Date().getMonth()];\r\n\t\t$scope.details.date_start_year = $scope.years[0];\r\n\t\t\r\n\t\t$scope.getMondays = function(){\r\n\t\t\t$scope.details.date_end = null;\r\n\t\t\t$scope.details.date_start = null;\r\n\t\t\t$scope.details.weekend = [];\r\n\t\t\t// $scope.details.project_id = null;\r\n\t\t\tPerformance.getMondays($scope.details)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.mondays = data;\r\n\t\t\t\t\t$scope.show = true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\r\n\t\t};\r\n\r\n\t\t$scope.getWeekends = function(){\r\n\t\t\t// $scope.details.project_id = null;\t\r\n\t\t\t$scope.details.date_end = null;\t\r\n\t\t\t$scope.details.weekend = [];\r\n\t\t\tPerformance.getWeekends($scope.details)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.weekends = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.setDefaultPosition = function(){\r\n\t\t\tangular.forEach($scope.members, function(member){\r\n\t\t\t\tif(!member.output && !member.hours_worked){\r\n\t\t\t\t\tmember.position_id = $scope.details.position_id;\r\n\t\t\t\t\t$scope.getTarget(member);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.showPositions = function(projectID){\r\n\t\t\t$scope.toolbar.items = [];\r\n\t\t\tPosition.project(projectID)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.positions = data;\r\n\t\t\t\t});\r\n\r\n\t\t\tExperience.members(projectID)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.members = data;\r\n\t\t\t\t\t$scope.resetMembers();\r\n\t\t\t\t});\r\n\r\n\t\t\tProject.show(projectID)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.project = data;\r\n\t\t\t\t\tangular.forEach(data.positions, function(position){\r\n\t\t\t\t\t\tvar targets = [];\r\n\t\t\t\t\t\tvar index = 0;\r\n\t\t\t\t\t\tangular.forEach(position.targets, function(target){\r\n\t\t\t\t\t\t\tvar target_effective_date = new Date(target.effective_date).setHours(0,0,0,0);\r\n\t\t\t\t\t\t\tif(!target.deleted_at && target_effective_date <= new Date($scope.details.date_start)){\r\n\t\t\t\t\t\t\t\ttargets.splice(index, 0, target);\r\n\t\t\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if(target.deleted_at && target_effective_date < new Date($scope.details.date_start)){\r\n\t\t\t\t\t\t\t\ttargets.splice(index, 0, target);\r\n\t\t\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif(targets.length){\r\n\t\t\t\t\t\t\t$scope.default = 'false';\r\n\t\t\t\t\t\t\tvar beginner_productivity = $filter('filter')(targets, {experience:'Beginner'}, true);\r\n\t\t\t\t\t\t\tvar moderately_experienced_productivity = $filter('filter')(targets, {experience:'Moderately Experienced'}, true);\r\n\t\t\t\t\t\t\tvar experienced_productivity = $filter('filter')(targets, {experience:'Experienced'}, true);\r\n\t\t\t\t\t\t\tvar quality = $filter('filter')(targets, {experience:'Experienced'}, true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t$scope.default = 'true';\r\n\t\t\t\t\t\t\tvar beginner_productivity = $filter('filter')(position.targets, {experience:'Beginner', deleted_at:null}, true);\r\n\t\t\t\t\t\t\tvar moderately_experienced_productivity = $filter('filter')(position.targets, {experience:'Moderately Experienced', deleted_at:null}, true);\r\n\t\t\t\t\t\t\tvar experienced_productivity = $filter('filter')(position.targets, {experience:'Experienced', deleted_at:null}, true);\r\n\t\t\t\t\t\t\tvar quality = $filter('filter')(position.targets, {experience:'Experienced', deleted_at:null}, true);\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tposition.targets = [];\r\n\t\t\t\t\t\tposition.targets.push(beginner_productivity[0]);\r\n\t\t\t\t\t\tposition.targets.push(moderately_experienced_productivity[0]);\r\n\t\t\t\t\t\tposition.targets.push(experienced_productivity[0]);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.items = [];\r\n\t\t$scope.toolbar.getItems = function(query){\r\n\t\t\tvar results = query ? $filter('filter')($scope.toolbar.items, query) : $scope.toolbar.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\t\t$scope.toolbar.childState = 'Report';\r\n\t\t// $scope.toolbar.hideSearchIcon = true;\r\n\t\t/**\r\n\t\t * Object for subheader\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.subheader = {};\r\n\t\t$scope.subheader.state = 'report';\r\n\r\n\t\t$scope.subheader.refresh = function(){\r\n\t\t\tPreloader.preload();\r\n\t\t\t$scope.init(true);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Status of search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.searchBar = false;\r\n\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.toolbar.userInput = '';\r\n\t\t\t$scope.searchBar = false;\r\n\t\t};\r\n\t\t/**\r\n\t\t * Object for content view\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.rightSidenav = {};\r\n\t\t$scope.rightSidenav.show = true;\r\n\r\n\t\t$scope.fab = {};\r\n\r\n\t\t$scope.fab.icon = 'mdi-check';\r\n\t\t$scope.fab.label = 'Submit';\r\n\t\t\r\n\t\t$scope.fab.show = true;\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\t$scope.showErrors = true;\r\n\t\t\tif($scope.form.createReportForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.form.createReportForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$mdDialog.show(\r\n\t\t\t\t\t$mdDialog.alert()\r\n\t\t\t\t\t\t.parent(angular.element(document.body))\r\n\t\t\t\t\t\t.clickOutsideToClose(true)\r\n\t\t\t\t        .title('Error')\r\n\t\t\t\t        .content('Please complete the forms or check the errors.')\r\n\t\t\t\t        .ariaLabel('Error')\r\n\t\t\t\t        .ok('Got it!')\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tif(!busy){\r\n\t\t\t\t\tbusy = true;\r\n\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\tangular.forEach($scope.members, function(item){\r\n\t\t\t\t\t\t// item.department_id = departmentID;\r\n\t\t\t\t\t\titem.date_start = $scope.details.date_start;\r\n\t\t\t\t\t\titem.date_end = $scope.details.date_end;\r\n\t\t\t\t\t\titem.project_id = $scope.details.project_id;\r\n\t\t\t\t\t\titem.daily_work_hours = $scope.details.daily_work_hours;\r\n\t\t\t\t\t\tcount = item.include ? count + 1 : count;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif(count){\r\n\t\t\t\t\t\tPreloader.preload();\r\n\t\t\t\t\t\tPerformance.store($scope.members)\r\n\t\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\t\t$mdToast.show(\r\n\t\t\t\t\t\t\t      \t$mdToast.simple()\r\n\t\t\t\t\t\t\t\t        .content('Report Submitted.')\r\n\t\t\t\t\t\t\t\t        .position('bottom right')\r\n\t\t\t\t\t\t\t\t        .hideDelay(3000)\r\n\t\t\t\t\t\t\t    );\r\n\t\t\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t\t\t\t$state.go('main');\r\n\t\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\t$mdDialog.show(\r\n\t\t\t\t\t\t\t$mdDialog.alert()\r\n\t\t\t\t\t\t\t\t.parent(angular.element(document.body))\r\n\t\t\t\t\t\t\t\t.clickOutsideToClose(true)\r\n\t\t\t\t\t\t        .title('Report not submitted.')\r\n\t\t\t\t\t\t        .content('Empty reports are not submitted.')\r\n\t\t\t\t\t\t        .ariaLabel('Empty Report')\r\n\t\t\t\t\t\t        .ok('Got it!')\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.checkLimit = function(data){\r\n\t\t\t// console.log(data);\r\n\t\t\tvar idx = $scope.members.indexOf(data);\r\n\t\t\t// console.log(idx);\r\n\t\t\t// gets the number of days worked in a day then multiply it to the daily work hours to get weekly limit\r\n\t\t\t// $scope.details.weekly_hours = ((new Date($scope.details.date_end) - new Date($scope.details.date_start)) / (1000*60*60*24) + 1) * $scope.details.daily_work_hours;\r\n\t\t\tPerformance.checkLimit($scope.members[idx].member.id, $scope.details)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.members[idx].limit = data;\r\n\t\t\t\t\t// if($scope.reset){\r\n\t\t\t\t\t// \t$scope.count++;\r\n\t\t\t\t\t// \t// console.log($scope.count, $scope.members.length);\r\n\t\t\t\t\t// \tif($scope.count == $scope.members.length){\r\n\t\t\t\t\t// \t\t$scope.showMembers = true;\r\n\t\t\t\t\t// \t\t$scope.reset = false;\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// }\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\t$scope.members[idx].limit = $scope.details.weekly_hours;\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.resetMembers = function(){\r\n\t\t\t$scope.details.weekly_hours = ((new Date($scope.details.date_end) - new Date($scope.details.date_start)) / (1000*60*60*24) + 1) * $scope.details.daily_work_hours;\r\n\t\t\t// $scope.count = 0;\r\n\t\t\t$scope.showMembers = false;\r\n\t\t\t// $scope.reset = true;\r\n\t\t\t// $scope.checkLimit();\r\n\t\t\tangular.forEach($scope.members, function(item, key){\r\n\t\t\t\titem.hours_worked = null;\r\n\t\t\t\titem.date_start = $scope.details.date_start;\r\n\t\t\t\titem.date_end = $scope.details.date_end;\r\n\t\t\t\titem.daily_work_hours = $scope.details.daily_work_hours;\r\n\t\t\t\titem.weekly_hours = $scope.details.weekly_hours;\r\n\t\t\t\t// $scope.checkLimit(item);\r\n\t\t\t});\r\n\r\n\t\t\tPerformance.checkLimitAll($scope.members)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.members = data;\r\n\t\t\t\t\tangular.forEach($scope.members, function(item){\r\n\t\t\t\t\t\titem.date_started = new Date(item.date_started);\r\n\t\t\t\t\t\titem.first_letter = item.member.full_name.charAt(0).toUpperCase();\r\n\t\t\t\t\t\titem.output_error = 0;\r\n\r\n\t\t\t\t\t\tvar toolbarItem = {};\r\n\t\t\t\t\t\ttoolbarItem.display = item.member.full_name;\r\n\t\t\t\t\t\t$scope.toolbar.items.push(toolbarItem);\r\n\t\t\t\t\t\t$scope.getTarget(item);\r\n\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t$scope.showMembers = true;\r\n\t\t\t\t\t// $scope.reset = false;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.checkBalance = function(data){\r\n\t\t\tvar index = $scope.members.indexOf(data);\r\n\t\t\t$scope.members[index].balance = $scope.members[index].limit - $scope.members[index].hours_worked;\r\n\t\t\t$scope.members[index].balance = $scope.members[index].balance ? $scope.members[index].balance.toFixed(2) : 0;\r\n\t\t}\r\n\r\n\t\t// $scope.checkProgramme = function(idx){\r\n\t\t// \t$scope.details.programme_id = $scope.work_hours[idx].id;\r\n\t\t// }\r\n\r\n\t\tvar monthDiff = function(d1, d2) {\r\n\t\t    var months;\r\n\t\t    months = (d2.getFullYear() - d1.getFullYear()) * 12;\r\n\t\t    months -= d1.getMonth() + 1;\r\n\t\t    months += d2.getMonth();\r\n\t\t    return months <= 0 ? 0 : months;\r\n\t\t}\r\n\r\n\t\t$scope.getTarget = function(member){\r\n\t\t\tif(member.position_id)\r\n\t\t\t{\r\n\t\t\t\tvar index = $scope.members.indexOf(member);\r\n\t\t\t\tvar position = $filter('filter')($scope.project.positions, {id:member.position_id});\r\n\r\n\t\t\t\tvar tenure = monthDiff(new Date(member.date_started), new Date($scope.details.date_start));\r\n\r\n\t\t\t\tmember.experience = tenure < 3 ? 'Beginner' : ((tenure >= 3 && tenure < 6) ? 'Moderately Experienced' : 'Experienced');\r\n\r\n\t\t\t\tvar target = $filter('filter')(position[0].targets, {experience:member.experience}, true);\r\n\t\t\t\tmember.target_id = target[0].id;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// $scope.markInclude = function(member){\r\n\t\t// \tif(member.limit){\r\n\t\t// \t\tmember.include = member.include ? false : true;\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\t$scope.init = function(refresh){\r\n\t\t\tMember.updateTenure()\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\treturn;\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\tProject.index()\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t$scope.projects = data;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.then(function(){\t\t\r\n\t\t\t\t\tProgramme.index()\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t$scope.work_hours = data;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\t$scope.getMondays();\r\n\r\n\t\t\t\t\tif(refresh){\r\n\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t})\r\n\t\t};\r\n\r\n\t\t$scope.init();\r\n\t}]);","teamLeaderModule\r\n\t.controller('addMemberDialogController', ['$scope', '$mdDialog', 'Preloader', 'User', 'Member', function($scope, $mdDialog, Preloader, User, Member){\r\n\t\tvar user = Preloader.getUser();\r\n\t\tvar busy = false;\r\n\t\tif(!user){\r\n\t\t\tUser.index()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tuser = data;\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t};\r\n\r\n\t\t$scope.member = {};\r\n\t\t$scope.member.team_leader_id = user.id;\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\t$scope.showErrors = true;\r\n\t\t\tif($scope.addMemberForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.addMemberForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t/* Starts Preloader */\r\n\t\t\t\tPreloader.preload();\r\n\t\t\t\t/**\r\n\t\t\t\t * Stores Single Record\r\n\t\t\t\t*/\r\n\t\t\t\tconsole.log(busy);\r\n\t\t\t\tif(!busy){\r\n\t\t\t\t\tbusy = true;\r\n\t\t\t\t\tMember.store($scope.member)\r\n\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t// Stops Preloader \r\n\t\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t}, function(){\r\n\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}]);","teamLeaderModule\r\n\t.controller('approvalsDialogController', ['$scope', '$mdDialog', 'Approval', 'PerformanceApproval', 'Preloader', function($scope, $mdDialog, Approval, PerformanceApproval, Preloader){\r\n\t\tvar approvalID = Preloader.get();\r\n\t\t$scope.user = Preloader.getUser();\r\n\r\n\t\tApproval.details(approvalID)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.details = data;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t$scope.markAll = function(){\r\n\t\t\tif($scope.checkAll)\r\n\t\t\t{\r\n\t\t\t\t$scope.checkAll = true;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t$scope.checkAll = false;\r\n\t\t\t}\r\n\t\t\tangular.forEach($scope.details.request, function(item, key){\r\n\t\t\t\titem.include = !$scope.checkAll;\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\t\t$scope.cancelRequest = function(){\r\n\t\t\tPreloader.preload();\r\n\t\t\tApproval.delete(approvalID)\r\n\t\t\t\t.success(function(){\r\n\t\t\t\t\t// Stops Preloader \r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t}\r\n\t}]);","teamLeaderModule\r\n\t.controller('approvedApprovalsDetailsDialogController', ['$scope', '$mdDialog', 'Approval', 'PerformanceApproval', 'Preloader', function($scope, $mdDialog, Approval, PerformanceApproval, Preloader){\r\n\t\tvar performanceApprovalID = Preloader.get();\r\n\r\n\t\tPerformanceApproval.approvedDetails(performanceApprovalID)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.details = data;\r\n\t\t\t});\r\n\t\t\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\t}]);","teamLeaderModule\r\n\t.controller('declinedApprovalsDetailsDialogController', ['$scope', '$mdDialog', 'Approval', 'PerformanceApproval', 'Preloader', function($scope, $mdDialog, Approval, PerformanceApproval, Preloader){\r\n\t\tvar performanceApprovalID = Preloader.get();\r\n\r\n\t\tPerformanceApproval.declinedDetails(performanceApprovalID)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.details = data;\r\n\t\t\t});\r\n\t\t\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\t}]);","teamLeaderModule\r\n\t.controller('downloadReportDialogController', ['$scope', '$mdDialog', '$filter', 'Preloader', 'Report', 'Performance', 'Programme', 'Project', 'Position', 'Member', 'Experience', function($scope, $mdDialog, $filter, Preloader, Report, Performance, Programme, Project, Position, Member, Experience){\r\n\t\t$scope.details = {};\r\n\t\t$scope.details.type = 'Weekly';\r\n\t\t$scope.details.date_start = new Date();\r\n\t\t$scope.details.date_end = new Date();\r\n\t\t$scope.maxDate = new Date();\r\n\r\n\t\tvar user = Preloader.getUser();\r\n\r\n\t\tif(!user)\r\n\t\t{\r\n\t\t\tUser.index()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tuser = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t// $scope.hours = [7.5, 8.3, 9.1];\r\n\r\n\t\t$scope.months = [\r\n\t\t\t{'value': '01', 'month': 'January'},\r\n\t\t\t{'value': '02', 'month': 'February'},\r\n\t\t\t{'value': '03', 'month': 'March'},\r\n\t\t\t{'value': '04', 'month': 'April'},\r\n\t\t\t{'value': '05', 'month': 'May'},\r\n\t\t\t{'value': '06', 'month': 'June'},\r\n\t\t\t{'value': '07', 'month': 'July'},\r\n\t\t\t{'value': '08', 'month': 'August'},\r\n\t\t\t{'value': '09', 'month': 'September'},\r\n\t\t\t{'value': '10', 'month': 'October'},\r\n\t\t\t{'value': '11', 'month': 'November'},\r\n\t\t\t{'value': '12', 'month': 'December'},\r\n\t\t];\r\n\r\n\t\t$scope.months_array = [\r\n\t\t\t'January',\r\n\t\t\t'February',\r\n\t\t\t'March',\r\n\t\t\t'April',\r\n\t\t\t'May',\r\n\t\t\t'June',\r\n\t\t\t'July',\r\n\t\t\t'August',\r\n\t\t\t'September',\r\n\t\t\t'October',\r\n\t\t\t'November',\r\n\t\t\t'December',\r\n\t\t];\r\n\r\n\t\t$scope.years = [];\r\n\t\t\r\n\t\tvar dateCreated = 2016;\r\n\r\n\t\t// will generate the dates that will be used in drop down menu\r\n\t\tfor (var i = new Date().getFullYear(); i >= dateCreated; i--) {\r\n\t\t\t$scope.years.push(i);\r\n\t\t};\r\n\r\n\t\t$scope.details.date_start_month = $scope.months_array[new Date().getMonth()];\r\n\t\t$scope.details.date_start_year = $scope.years[0];\r\n\t\t\r\n\t\t$scope.getMondays = function(){\r\n\t\t\t$scope.details.date_end = null;\r\n\t\t\t$scope.details.date_start = null;\r\n\t\t\t$scope.details.weekend = [];\r\n\t\t\tPerformance.getMondays($scope.details)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.mondays = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.getWeekends = function(){\t\r\n\t\t\t$scope.details.date_end = null;\t\r\n\t\t\t$scope.details.weekend = [];\r\n\t\t\tPerformance.getWeekends($scope.details)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.weekends = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.fetchMembers = function(){\r\n\t\t\tvar projectID = $scope.details.project;\r\n\t\t\t\r\n\t\t\tif($scope.details.project == 'all'){\r\n\t\t\t\tPosition.unique()\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.positions = data;\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t// Member.department()\r\n\t\t\t\t// \t.success(function(data){\r\n\t\t\t\t// \t\tangular.forEach(data, function(member){\r\n\t\t\t\t// \t\t\tmember.member_id = member.id;\r\n\t\t\t\t// \t\t});\r\n\r\n\t\t\t\t// \t\t$scope.members = data;\r\n\t\t\t\t// \t})\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tProject.show(projectID)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.positions = data.positions;\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t// Experience.members(projectID)\r\n\t\t\t\t// \t.success(function(data){\r\n\t\t\t\t// \t\tangular.forEach(data, function(member){\r\n\t\t\t\t// \t\t\tmember.full_name = member.member.full_name;\r\n\t\t\t\t// \t\t});\r\n\r\n\t\t\t\t// \t\t$scope.members = data;\r\n\t\t\t\t// \t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t};\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\tif($scope.downloadReportForm.$invalid){\r\n\t\t\t\t$scope.showErrors = true;\r\n\t\t\t\tangular.forEach($scope.downloadReportForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tif($scope.details.type=='Weekly')\r\n\t\t\t\t{\r\n\t\t\t\t\tvar win = window.open('/report-download-weekly-department/' + user.department_id + '/date_start/' + $filter('date')($scope.details.date_start, 'yyyy-MM-dd') + '/to/' + $filter('date')($scope.details.date_end, 'yyyy-MM-dd') + '/daily-work-hours/' + $scope.details.daily_work_hours , '_blank');\r\n\t\t\t\t\twin.focus();\r\n\t\t\t\t}\r\n\t\t\t\telse if($scope.details.type=='Monthly'){\r\n\t\t\t\t\tvar win = window.open('/report-download-monthly-department/' + user.department_id + '/month/' + $scope.details.month + '/year/' + $scope.details.year + '/daily-work-hours/' + $scope.details.daily_work_hours, '_blank');\r\n\t\t\t\t\twin.focus();\t\r\n\t\t\t\t}\r\n\t\t\t\telse if($scope.details.type=='Team Performance'){\r\n\t\t\t\t\tvar win = window.open('/report-team-performance/' + $scope.details.month + '/year/' + $scope.details.year + '/daily-work-hours/' + $scope.details.daily_work_hours + '/download/1', '_blank');\r\n\t\t\t\t\twin.focus();\t\r\n\t\t\t\t}\r\n\t\t\t\telse if($scope.details.type=='Performance Evaluation'){\r\n\t\t\t\t\t$scope.details.date_start = $scope.details.date_start.toDateString();\r\n\t\t\t\t\t$scope.details.date_end = $scope.details.date_end.toDateString();\r\n\r\n\t\t\t\t\tif($scope.details.project == 'all'){\r\n\t\t\t\t\t\tvar win = window.open('/performance-evaluation-multiple/' + $scope.details.date_start + '/date_end/' + $scope.details.date_end + '/daily-work-hours/' + $scope.details.daily_work_hours + '/department/' + $scope.details.department + '/position/' + $scope.details.position + /member/ + $scope.details.member + '/download/1', '_blank');\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar win = window.open('/performance-evaluation/' + $scope.details.date_start + '/date_end/' + $scope.details.date_end + '/daily-work-hours/' + $scope.details.daily_work_hours + '/department/' + $scope.details.department + '/project/' + $scope.details.project + '/position/' + $scope.details.position + /member/ + $scope.details.member + '/download/1', '_blank');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twin.focus();\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$mdDialog.hide();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$scope.init = function(){\r\n\t\t\tProject.index()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.projects = data;\r\n\t\t\t\t})\r\n\r\n\t\t\tProgramme.index()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.work_hours = data;\r\n\t\t\t\t\t$scope.getMondays();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t})\r\n\r\n\t\t\tMember.index()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tangular.forEach(data, function(member){\r\n\t\t\t\t\t\tmember.member_id = member.id;\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$scope.members = data;\r\n\t\t\t\t})\r\n\t\t}();\r\n\r\n\t\t$scope.getPositions = function(){\r\n\t\t\tProject.show($scope.details.project)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.positions = data.positions;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t}]);","teamLeaderModule\r\n\t.controller('editMemberDialogController', ['$scope', '$mdDialog', 'Preloader', 'Member', function($scope, $mdDialog, Preloader, Member){\r\n\t\tvar member_id = Preloader.get();\r\n\t\tvar busy = false;\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t};\r\n\r\n\t\tMember.show(member_id)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.member = data;\r\n\t\t\t});\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\t$scope.showErrors = true;\r\n\t\t\tif($scope.editMemberForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.editMemberForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t/* Starts Preloader */\r\n\t\t\t\tPreloader.preload();\r\n\t\t\t\t/**\r\n\t\t\t\t * Stores Single Record\r\n\t\t\t\t*/\r\n\t\t\t\tif(!busy){\r\n\t\t\t\t\tbusy = true;\r\n\t\t\t\t\tMember.update(member_id, $scope.member)\r\n\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t// Stops Preloader \r\n\t\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t\t\tbusy = false; \r\n\t\t\t\t\t\t}, function(){\r\n\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\tbusy = false; \r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}]);","teamLeaderModule\r\n\t.controller('evaluateDialogController', ['$scope', '$mdDialog', '$filter', 'Preloader', 'Report', 'Performance', 'Project', 'Experience', 'Programme', 'Department', 'Member', 'Position', function($scope, $mdDialog, $filter, Preloader, Report, Performance, Project, Experience, Programme, Department, Member, Position){\r\n\t\t$scope.details = {};\r\n\t\t$scope.details.date_start = new Date();\r\n\t\t$scope.details.date_end = new Date();\r\n\t\t$scope.maxDate = new Date();\r\n\r\n\t\tProject.index()\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.projects = data;\r\n\t\t\t})\r\n\r\n\t\tProgramme.index()\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.work_hours = data;\r\n\t\t\t})\r\n\t\t\t.error(function(){\r\n\t\t\t\tPreloader.error();\r\n\t\t\t})\r\n\r\n\t\tMember.index()\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.members = data;\r\n\t\t\t})\r\n\r\n\t\t$scope.getPositions = function(){\r\n\t\t\tif($scope.details.project == 'all'){\r\n\t\t\t\tPosition.unique()\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.positions = data;\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tProject.show($scope.details.project)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.positions = data.positions;\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// $scope.hours = [7.5, 8.3, 9.1];\r\n\r\n\t\t$scope.months = [\r\n\t\t\t{'value': '01', 'month': 'January'},\r\n\t\t\t{'value': '02', 'month': 'February'},\r\n\t\t\t{'value': '03', 'month': 'March'},\r\n\t\t\t{'value': '04', 'month': 'April'},\r\n\t\t\t{'value': '05', 'month': 'May'},\r\n\t\t\t{'value': '06', 'month': 'June'},\r\n\t\t\t{'value': '07', 'month': 'July'},\r\n\t\t\t{'value': '08', 'month': 'August'},\r\n\t\t\t{'value': '09', 'month': 'September'},\r\n\t\t\t{'value': '10', 'month': 'October'},\r\n\t\t\t{'value': '11', 'month': 'November'},\r\n\t\t\t{'value': '12', 'month': 'December'},\r\n\t\t];\r\n\r\n\t\t$scope.months_array = [\r\n\t\t\t'January',\r\n\t\t\t'February',\r\n\t\t\t'March',\r\n\t\t\t'April',\r\n\t\t\t'May',\r\n\t\t\t'June',\r\n\t\t\t'July',\r\n\t\t\t'August',\r\n\t\t\t'September',\r\n\t\t\t'October',\r\n\t\t\t'November',\r\n\t\t\t'December',\r\n\t\t];\r\n\r\n\t\t$scope.years = [];\r\n\t\t\r\n\t\tvar dateCreated = 2016;\r\n\r\n\t\t// will generate the dates that will be used in drop down menu\r\n\t\tfor (var i = new Date().getFullYear(); i >= dateCreated; i--) {\r\n\t\t\t$scope.years.push(i);\r\n\t\t};\r\n\r\n\t\t$scope.details.date_start_month = $scope.months_array[new Date().getMonth()];\r\n\t\t$scope.details.date_start_year = $scope.years[0];\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t};\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\tif($scope.performanceEvaluationForm.$invalid){\r\n\t\t\t\t$scope.showErrors = true;\r\n\t\t\t\tangular.forEach($scope.performanceEvaluationForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t$scope.details.date_start = $scope.details.date_start.toDateString();\r\n\t\t\t\t$scope.details.date_end = $scope.details.date_end.toDateString();\r\n\r\n\t\t\t\tif($scope.details.project == 'all'){\r\n\t\t\t\t\tPerformance.evaluationMultiple($scope.details.date_start, $scope.details.date_end, $scope.details.daily_work_hours, $scope.details.department, $scope.details.position, $scope.details.member)\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\tdata.multiple = true;\r\n\t\t\t\t\t\t\tPreloader.stop(data);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse{\r\n\t\t\t\t\tPerformance.evaluation($scope.details.date_start, $scope.details.date_end, $scope.details.daily_work_hours, $scope.details.department, $scope.details.project, $scope.details.position, $scope.details.member)\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\tPreloader.stop(data);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}]);","teamLeaderModule\r\n\t.controller('performanceMonthlyViewDialogController', ['$scope', '$mdDialog', 'Performance', 'Preloader', function($scope, $mdDialog, Performance, Preloader){\t\t\r\n\t\t$scope.member = Preloader.get();\r\n\r\n\t\tPerformance.monthly($scope.member)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.member = data;\r\n\r\n\t\t\t\tangular.forEach(data.positions, function(position){\r\n\t\t\t\t\tangular.forEach(position.performances, function(performance){\r\n\t\t\t\t\t\tperformance.date_start = new Date(performance.date_start);\r\n\t\t\t\t\t\tperformance.date_end = new Date(performance.date_end);\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$scope.positions = data.positions;\r\n\t\t\t})\r\n\t\t\t.error(function(){\r\n\t\t\t\tPreloader.error();\r\n\t\t\t});\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\t}]);"]}