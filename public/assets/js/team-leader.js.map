{"version":3,"sources":["team-leader.module.js","team-leader.routes.js","controllers/approvals-content-container.controller.js","controllers/edit-report-content-container.controller.js","controllers/left-sidenav.controller.js","controllers/main-content-container.controller.js","controllers/members-content-container.controller.js","controllers/notification.toast.controller.js","controllers/report-content-container.controller.js","controllers/dialogs/add-member-dialog.controller.js","controllers/dialogs/approvals-dialog.controller.js","controllers/dialogs/approved-approvals-details-dialog.controller.js","controllers/dialogs/declined-approvals-details-dialog.controller.js","controllers/dialogs/edit-member-dialog.controller.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"team-leader.js","sourcesContent":["var teamLeaderModule = angular.module('teamLeaderModule', [\r\n\t/* Shared Module */\r\n\t'sharedModule'\r\n]); ","teamLeaderModule\r\n\t.config(['$stateProvider', function($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main', {\r\n\t\t\t\turl:'/',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/main.view.html',\r\n\t\t\t\t\t\tcontroller: 'mainViewController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/sidenavs/main-left.sidenav.html',\r\n\t\t\t\t\t\tcontroller: 'leftSidenavController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content-container@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'mainContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/main.content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'right-sidenav@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/sidenavs/main-right.sidenav.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.members', {\r\n\t\t\t\turl:'members',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'membersContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.members': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.members':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/content/members.content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.report', {\r\n\t\t\t\turl:'report',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'reportContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.report': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.report':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/content/report.content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.edit-report',{\r\n\t\t\t\turl:'edit-report/{reportID}',\r\n\t\t\t\tparams: {'reportID':null},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'editReportContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.edit-report': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.edit-report':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/content/edit-report.content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.approvals',{\r\n\t\t\t\turl:'approvals',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'approvalsContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.approvals': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/team-leader/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.approvals':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/content/approval.content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t}]);","teamLeaderModule\r\n\t.controller('approvalsContentContainerController', ['$scope', '$mdDialog', 'PerformanceApproval', 'Approval', 'Preloader', 'User',  function($scope, $mdDialog, PerformanceApproval, Approval, Preloader, User){\r\n\t\tUser.index()\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$user = data;\r\n\r\n\t\t\t\t$scope.pending = {};\r\n\t\t\t\t$scope.approved = {};\r\n\t\t\t\t$scope.declined = {};\r\n\r\n\t\t\t\t$scope.pending.page = 2;\r\n\t\t\t\t$scope.approved.page = 2;\r\n\t\t\t\t$scope.declined.page = 2;\r\n\r\n\r\n\t\t\t\t/* Pending */\r\n\t\t\t\tApproval.pendingUser($user.id)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.pending.details = data;\r\n\t\t\t\t\t\t$scope.pending.paginated = data.data;\r\n\t\t\t\t\t\t$scope.pending.show = true;\r\n\t\t\t\t\t\t$scope.pending.busy = false;\r\n\t\t\t\t\t\t$scope.pending.paginateLoad = function(){\r\n\t\t\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\t\t\tif($scope.pending.busy || ($scope.pending.page > $scope.pending.details.last_page)){\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t\t\t *\r\n\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t\t\t$scope.pending.busy = true;\r\n\r\n\t\t\t\t\t\t\t// Calls the next page of pagination.\r\n\t\t\t\t\t\t\tApproval.pendingUser($user.id, $scope.pending.page)\r\n\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\t// increment the page to set up next page for next AJAX Call\r\n\t\t\t\t\t\t\t\t\t$scope.pending.page++;\r\n\t\t\t\t\t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t\t\t\t\t\t\tangular.forEach(data, function(item, key){\r\n\t\t\t\t\t\t\t\t\t\t$scope.pending.paginated.push(item);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t\t\t\t\t\t\t$scope.pending.busy = false;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\terror(function(){\r\n\t\t\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t/* Approved */\r\n\t\t\t\tPerformanceApproval.approvedUser($user.id)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.approved.details = data;\r\n\t\t\t\t\t\t$scope.approved.paginated = data.data;\r\n\t\t\t\t\t\t$scope.approved.show = true;\r\n\t\t\t\t\t\t$scope.approved.busy = false;\r\n\t\t\t\t\t\t$scope.approved.paginateLoad = function(){\r\n\t\t\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\t\t\tif($scope.approved.busy || ($scope.approved.page > $scope.approved.details.last_page)){\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t\t\t *\r\n\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t\t\t$scope.approved.busy = true;\r\n\r\n\t\t\t\t\t\t\t// Calls the next page of pagination.\r\n\t\t\t\t\t\t\tPerformanceApproval.approvedUser($user.id, $scope.approved.page)\r\n\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\t// increment the page to set up next page for next AJAX Call\r\n\t\t\t\t\t\t\t\t\t$scope.approved.page++;\r\n\t\t\t\t\t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t\t\t\t\t\t\tangular.forEach(data, function(item, key){\r\n\t\t\t\t\t\t\t\t\t\t$scope.approved.paginated.push(item);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t\t\t\t\t\t\t$scope.approved.busy = false;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\terror(function(){\r\n\t\t\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t/* Declined */\r\n\t\t\t\tPerformanceApproval.declinedUser($user.id)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.declined.details = data;\r\n\t\t\t\t\t\t$scope.declined.paginated = data.data;\r\n\t\t\t\t\t\t$scope.declined.show = true;\r\n\t\t\t\t\t\t$scope.declined.busy = false;\r\n\t\t\t\t\t\t$scope.declined.paginateLoad = function(){\r\n\t\t\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\t\t\tif($scope.declined.busy || ($scope.declined.page > $scope.declined.details.last_page)){\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t\t\t *\r\n\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t\t\t$scope.declined.busy = true;\r\n\r\n\t\t\t\t\t\t\t// Calls the next page of pagination.\r\n\t\t\t\t\t\t\tPerformanceApproval.declinedUser($user.id, $scope.declined.page)\r\n\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\t// increment the page to set up next page for next AJAX Call\r\n\t\t\t\t\t\t\t\t\t$scope.declined.page++;\r\n\t\t\t\t\t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t\t\t\t\t\t\tangular.forEach(data, function(item, key){\r\n\t\t\t\t\t\t\t\t\t\t$scope.declined.paginated.push(item);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t\t\t\t\t\t\t$scope.declined.busy = false;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\terror(function(){\r\n\t\t\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.childState = 'Approvals';\r\n\t\t/**\r\n\t\t * Object for subheader\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.subheader = {};\r\n\t\t$scope.subheader.state = 'approvals';\r\n\t\t\r\n\t\t$scope.subheader.refresh = function(){\r\n\t\t\tPreloader.preload();\r\n\t\t\t$scope.pending.show = false;\r\n\t\t\t$scope.approved.show = false;\r\n\t\t\t$scope.declined.show = false;\r\n\t\t\t$scope.pending.page = 2;\r\n\t\t\t$scope.approved.page = 2;\r\n\t\t\t$scope.declined.page = 2;\r\n\r\n\t\t\tApproval.pendingUser($user.id)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.pending.details = data;\r\n\t\t\t\t\t$scope.pending.paginated = data.data;\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tPerformanceApproval.approved($user.id)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.approved.details = data;\r\n\t\t\t\t\t\t$scope.approved.paginated = data.data;\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\tPerformanceApproval.declined($user.id)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t$scope.declined.details = data;\r\n\t\t\t\t\t\t\t\t$scope.declined.paginated = data.data;\r\n\r\n\t\t\t\t\t\t\t\t$scope.pending.show = true;\r\n\t\t\t\t\t\t\t\t$scope.declined.show = true;\r\n\t\t\t\t\t\t\t\t$scope.approved.show = true;\r\n\r\n\t\t\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t}\r\n\r\n\t\t$scope.showPending = function(id){\r\n\t\t\tPreloader.set(id);\r\n\t\t\t$mdDialog.show({\r\n\t\t      controller: 'approvalsDialogController',\r\n\t\t      templateUrl: '/app/components/team-leader/templates/dialogs/approval.dialog.template.html',\r\n\t\t      parent: angular.element(document.body),\r\n\t\t    })\r\n\t\t    .then(function(){\r\n\t\t    \t$scope.subheader.refresh();\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\t$scope.showApprovedDetails = function(id){\r\n\t\t\tPreloader.set(id);\r\n\t\t\t$mdDialog.show({\r\n\t\t      controller: 'approvedApprovalsDetailsDialogController',\r\n\t\t      templateUrl: '/app/components/admin/templates/dialogs/approved-approval-details.dialog.template.html',\r\n\t\t      parent: angular.element(document.body),\r\n\t\t      clickOutsideToClose:true,\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\t$scope.showDeclinedDetails = function(id){\r\n\t\t\tPreloader.set(id);\r\n\t\t\t$mdDialog.show({\r\n\t\t      controller: 'declinedApprovalsDetailsDialogController',\r\n\t\t      templateUrl: '/app/components/admin/templates/dialogs/declined-approval-details.dialog.template.html',\r\n\t\t      parent: angular.element(document.body),\r\n\t\t      clickOutsideToClose:true,\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Status of search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.searchBar = false;\r\n\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.toolbar.userInput = '';\r\n\t\t\t$scope.searchBar = false;\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.report.show = false;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Object for content view\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\r\n\t\t// $scope.fab.icon = 'mdi-plus';\r\n\t\t// $scope.fab.label = 'Add';\r\n\t\t\r\n\t\t$scope.fab.show = false;\r\n\r\n\r\n\t}]);","teamLeaderModule\r\n\t.controller('editReportContentContainerController', ['$scope', '$mdDialog', '$state', '$mdToast', '$stateParams', 'Preloader', 'Performance', 'Position', 'Project', 'Approval', function($scope, $mdDialog, $state, $mdToast, $stateParams, Preloader, Performance, Position, Project, Approval){\r\n\t\tvar reportID = $stateParams.reportID;\r\n\t\tvar busy = false;\r\n\t\t$scope.form = {};\r\n\r\n\t\t$scope.hours = [\r\n\t\t\t{'value': 8.3},\r\n\t\t\t{'value': 9.1},\r\n\t\t];\r\n\r\n\t\t$scope.details = {};\r\n\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.childState = 'Edit Report';\r\n\t\t$scope.toolbar.showBack = true;\r\n\t\t$scope.toolbar.back = function(){\r\n\t\t\t$state.go('main');\r\n\t\t}\r\n\t\t/**\r\n\t\t * Object for subheader\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.subheader = {};\r\n\t\t$scope.subheader.state = 'report';\r\n\r\n\t\tPerformance.report(reportID)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.performances = data;\r\n\t\t\t\t\r\n\t\t\t\t$scope.details.date_start = new Date(data[0].date_start);\r\n\t\t\t\t$scope.details.date_end = new Date(data[0].date_end);\r\n\t\t\t\t$scope.details.project_name = data[0].project_name;\r\n\t\t\t\t$scope.details.daily_work_hours = data[0].daily_work_hours;\r\n\t\t\t\t$scope.details.first_letter = data[0].first_letter;\r\n\r\n\t\t\t\tPosition.project(data[0].project_id)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.positions = data;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tProject.department(data[0].department_id)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.projects = data;\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t$scope.showPositions = function(id){\r\n\t\t\tPosition.project(id)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.positions = data;\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.checkLimit = function(idx){\r\n\t\t\t// gets the number of days worked in a day then multiply it to the daily work hours to get weekly limit\r\n\t\t\t$scope.details.weekly_hours = (($scope.details.date_end - $scope.details.date_start) / (1000*60*60*24) + 1) * $scope.details.daily_work_hours;\r\n\t\t\tPerformance.checkLimitEdit($scope.performances[idx].member_id, $scope.details)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.performances[idx].limit = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\t$scope.performances[idx].limit = $scope.details.weekly_hours;\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.resetMembers = function(){\r\n\t\t\tangular.forEach($scope.performances, function(item, key){\r\n\t\t\t\titem.hours_worked = null;\r\n\t\t\t\t$scope.checkLimit(key);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Object for content view\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\r\n\t\t$scope.fab.icon = 'mdi-check';\r\n\t\t$scope.fab.label = 'Submit';\r\n\t\t\r\n\t\t$scope.fab.show = true;\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\t$scope.showErrors = true;\r\n\t\t\tif($scope.form.editReportForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.form.editReportForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$mdDialog.show(\r\n\t\t\t\t\t$mdDialog.alert()\r\n\t\t\t\t\t\t.parent(angular.element(document.body))\r\n\t\t\t\t\t\t.clickOutsideToClose(true)\r\n\t\t\t\t        .title('Error')\r\n\t\t\t\t        .content('Please complete the forms or check the errors.')\r\n\t\t\t\t        .ariaLabel('Error')\r\n\t\t\t\t        .ok('Got it!')\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tPreloader.preload();\r\n\r\n\t\t\t\tif(!busy){\r\n\t\t\t\t\tbusy = true;\r\n\t\t\t\t\tangular.forEach($scope.performances, function(item){\r\n\t\t\t\t\t\titem.date_start = $scope.details.date_start;\r\n\t\t\t\t\t\titem.date_end = $scope.details.date_end;\r\n\t\t\t\t\t\titem.daily_work_hours = $scope.details.daily_work_hours;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tApproval.performanceEdit(reportID, $scope.performances)\r\n\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\t$mdToast.show(\r\n\t\t\t\t\t\t      \t$mdToast.simple()\r\n\t\t\t\t\t\t\t        .content('Edit report has been submitted for approval.')\r\n\t\t\t\t\t\t\t        .position('bottom right')\r\n\t\t\t\t\t\t\t        .hideDelay(3000)\r\n\t\t\t\t\t\t    );\r\n\t\t\t\t\t\t\t$state.go('main');\r\n\t\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}]);","teamLeaderModule\r\n\t.controller('leftSidenavController', ['$scope', '$mdSidenav', function($scope, $mdSidenav){\r\n\t\t$scope.menu = {};\r\n\r\n\t\t$scope.menu.section = [\r\n\t\t\t{\r\n\t\t\t\t'name':'Dashboard',\r\n\t\t\t\t'state':'main',\r\n\t\t\t\t'icon':'mdi-view-dashboard',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'name':'Approvals',\r\n\t\t\t\t'state':'main.approvals',\r\n\t\t\t\t'icon':'mdi-file-document-box',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'name':'Members',\r\n\t\t\t\t'state': 'main.members',\r\n\t\t\t\t'icon':'mdi-account-multiple',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'name':'Report',\r\n\t\t\t\t'state': 'main.report',\r\n\t\t\t\t'icon':'mdi-file-document',\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t// set section as active\r\n\t\t$scope.setActive = function(index){\r\n\t\t \tangular.element($('[aria-label=\"'+ 'section-' + index + '\"]').closest('li').toggleClass('active'));\r\n\t\t \tangular.element($('[aria-label=\"'+ 'section-' + index + '\"]').closest('li').siblings().removeClass('active'));\r\n\t\t};\r\n\t}]);","teamLeaderModule\r\n\t.controller('mainContentContainerController', ['$scope', '$state', '$mdToast', '$mdDialog', 'Approval', 'Preloader', 'Report', 'Performance', 'Target', 'User', function($scope, $state, $mdToast, $mdDialog, Approval, Preloader, Report, Performance, Target, User){\r\n\t\tvar user = null;\r\n\t\t/**\r\n\t\t * Object for charts\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.charts = {};\r\n\t\t$scope.charts.result = {};\r\n\t\t$scope.charts.data = [];\r\n\t\t$scope.charts.result.data = [];\r\n\t\t$scope.charts.series = [];\r\n\t\t$scope.charts.result.series = [];\r\n\t\t$scope.charts.labels = ['Productivity', 'Quality'];\r\n\t\t/**\r\n\t\t * Object for report\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.report = {};\r\n\t\t$scope.report.paginated = [];\r\n\t\t$scope.report.targets = [];\r\n\t\t$scope.report.topPerformers = [];\r\n\t\t// 2 is default so the next page to be loaded will be page 2 \r\n\t\t$scope.report.page = 2;\r\n\r\n\t\tUser.index()\r\n\t\t\t.success(function(data){\r\n\t\t\t\tuser = data;\r\n\t\t\t\t// fetch the details of the pagination \r\n\t\t\t\tReport.paginateDepartmentDetails(user.department_id)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t$scope.report.details = data;\r\n\t\t\t\t\t\t$scope.report.busy = true;\r\n\t\t\t\t\t\tangular.forEach(data.data, function(item, key){\r\n\t\t\t\t\t\t\t// fetch the targets\r\n\t\t\t\t\t\t\tTarget.project(item.project_id)\r\n\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\t$scope.report.targets.splice(key, 0, data)\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tPerformance.topPerformers(item.id)\r\n\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\t$scope.report.topPerformers.splice(key, 0, data)\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// fetch the custom paginated data\r\n\t\t\t\t\t\tReport.paginateDepartment(user.department_id)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t$scope.report.paginated = data;\r\n\t\t\t\t\t\t\t\t$scope.report.show = true;\r\n\t\t\t\t\t\t\t\t$scope.report.busy = false;\r\n\t\t\t\t\t\t\t\t// set up the charts\r\n\t\t\t\t\t\t\t\t// reports cycle\r\n\t\t\t\t\t\t\t\tangular.forEach($scope.report.paginated, function(parentItem, parentKey){\r\n\t\t\t\t\t\t\t\t\t// performance cycle \r\n\t\t\t\t\t\t\t\t\t$scope.charts.data.push([]);\r\n\t\t\t\t\t\t\t\t\t$scope.charts.series.push([]);\r\n\t\t\t\t\t\t\t\t\tangular.forEach(parentItem, function(item, key){\r\n\t\t\t\t\t\t\t\t\t\t// push every productivity and quality of per employee\r\n\t\t\t\t\t\t\t\t\t\t$scope.charts.data[parentKey].push([item.productivity, item.quality]);\r\n\t\t\t\t\t\t\t\t\t\t$scope.charts.series[parentKey].push(item.full_name);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t$scope.report.paginateLoad = function(){\r\n\t\t\t\t\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\t\t\t\t\tif($scope.report.busy || ($scope.report.page > $scope.report.details.last_page)){\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t\t\t\t\t *\r\n\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t\t\t\t\t$scope.report.busy = true;\r\n\t\t\t\t\t\t\t\t\tReport.paginateDepartmentDetails(user.department_id, $scope.report.page)\r\n\t\t\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t\t\t\t\t\t\t\t\tangular.forEach(data.data, function(item, key){\r\n\t\t\t\t\t\t\t\t\t\t\t\t$scope.report.details.data.push(item);\r\n\t\t\t\t\t\t\t\t\t\t\t\t// fetch the targets\r\n\t\t\t\t\t\t\t\t\t\t\t\tTarget.project(item.project_id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$scope.report.targets.splice(key, 0, data)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\tPerformance.topPerformers(item.id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$scope.report.topPerformers.splice(key, 0, data)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t// Calls the next page of pagination.\r\n\t\t\t\t\t\t\t\t\tReport.paginateDepartment(user.department_id, $scope.report.page)\r\n\t\t\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\t\t\t// increment the page to set up next page for next AJAX Call\r\n\t\t\t\t\t\t\t\t\t\t\t$scope.report.page++;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t\t\t\t\t\t\t\t\tangular.forEach(data, function(item, key){\r\n\t\t\t\t\t\t\t\t\t\t\t\t$scope.report.paginated.push(item);\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t// set up the charts\r\n\t\t\t\t\t\t\t\t\t\t\t// reports cycle\r\n\t\t\t\t\t\t\t\t\t\t\tangular.forEach(data, function(parentItem, parentKey){\r\n\t\t\t\t\t\t\t\t\t\t\t\t// performance cycle \r\n\t\t\t\t\t\t\t\t\t\t\t\t$scope.charts.data.push([]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t$scope.charts.series.push([]);\r\n\t\t\t\t\t\t\t\t\t\t\t\tangular.forEach(parentItem, function(item, key){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// push every productivity and quality of per employee\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$scope.charts.data[$scope.charts.data.length -1].push([item.productivity, item.quality]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$scope.charts.series[$scope.charts.series.length -1].push(item.full_name);\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t\t\t\t\t\t\t\t\t$scope.report.busy = false;\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(data){\r\n\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.childState = 'Dashboard';\r\n\t\t/**\r\n\t\t * Object for subheader\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.subheader = {};\r\n\t\t$scope.subheader.state = 'dashboard';\r\n\r\n\t\t/* Refreshes the list */\r\n\t\t$scope.subheader.refresh = function(){\r\n\t\t\t$scope.report.show = false;\r\n\t\t\t// start preloader\r\n\t\t\tPreloader.preload();\r\n\t\t\t// clear report\r\n\t\t\t$scope.report.paginated = [];\r\n\t\t\t$scope.report.targets = [];\r\n\t\t\t$scope.report.topPerformers = [];\r\n\t\t\t$scope.report.page = 2;\r\n\t\t\t$scope.charts.data = [];\r\n\t\t\t$scope.charts.series = [];\r\n\t\t\t$scope.report.busy = true;\r\n\t\t\tReport.paginateDepartmentDetails(user.department_id)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.report.details = data;\r\n\t\t\t\t\tangular.forEach(data.data, function(item, key){\r\n\t\t\t\t\t\t// fetch the targets\r\n\t\t\t\t\t\tTarget.project(item.project_id)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t$scope.report.targets.splice(key, 0, data)\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\tPerformance.topPerformers(item.id)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t$scope.report.topPerformers.splice(key, 0, data)\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// fetch the custom paginated data\r\n\t\t\t\t\tReport.paginateDepartment(user.department_id)\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t$scope.report.paginated = data;\r\n\t\t\t\t\t\t\t$scope.report.show = true;\r\n\r\n\t\t\t\t\t\t\t// set up the charts\r\n\t\t\t\t\t\t\t// reports cycle\r\n\t\t\t\t\t\t\tangular.forEach($scope.report.paginated, function(parentItem, parentKey){\r\n\t\t\t\t\t\t\t\t// performance cycle \r\n\t\t\t\t\t\t\t\t$scope.charts.data.push([]);\r\n\t\t\t\t\t\t\t\t$scope.charts.series.push([]);\r\n\t\t\t\t\t\t\t\tangular.forEach(parentItem, function(item, key){\r\n\t\t\t\t\t\t\t\t\t// push every productivity and quality of per employee\r\n\t\t\t\t\t\t\t\t\t$scope.charts.data[parentKey].push([item.productivity, item.quality]);\r\n\t\t\t\t\t\t\t\t\t$scope.charts.series[parentKey].push(item.full_name);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t$scope.report.busy = false;\r\n\t\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Status of search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.searchBar = false;\r\n\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.toolbar.userInput = '';\r\n\t\t\t$scope.searchBar = false;\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.report.show = false;\r\n\t\t\t$scope.report.targets = [];\r\n\t\t\t$scope.report.topPerformers = [];\r\n\t\t\t$scope.charts.result.data = [];\r\n\t\t\t$scope.charts.result.series = [];\r\n\t\t\tPreloader.preload();\r\n\t\t\tReport.searchDepartment(user.department_id, $scope.toolbar)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.report.results = data;\r\n\t\t\t\t\tangular.forEach(data, function(item, key){\r\n\t\t\t\t\t\tTarget.project(item[0].project_id)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t$scope.report.targets.splice(key, 0, data)\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\tPerformance.topPerformers(item[0].report_id)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t$scope.report.topPerformers.splice(key, 0, data)\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tangular.forEach($scope.report.results, function(parentItem, parentKey){\r\n\t\t\t\t\t\t// performance cycle \r\n\t\t\t\t\t\t$scope.charts.result.data.push([]);\r\n\t\t\t\t\t\t$scope.charts.result.series.push([]);\r\n\t\t\t\t\t\tangular.forEach(parentItem, function(item, key){\r\n\t\t\t\t\t\t\t// push every productivity and quality of per employee\r\n\t\t\t\t\t\t\t$scope.charts.result.data[parentKey].push([item.productivity, item.quality]);\r\n\t\t\t\t\t\t\t$scope.charts.result.series[parentKey].push(item.full_name);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(data){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t// $scope.show = function(id){\r\n\t\t// \t$state.go('main.units', {'assetID': $stateParams.assetID, 'unitID':id});\r\n\t\t// };\r\n\t\t/**\r\n\t\t * Object for content view\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\r\n\t\t// $scope.fab.icon = 'mdi-plus';\r\n\t\t// $scope.fab.label = 'Add';\r\n\t\t\r\n\t\t$scope.fab.show = false;\r\n\r\n\t\t// $scope.fab.action = function(){\r\n\t\t// \treturn;\r\n\t\t// };\r\n\r\n\t\t// $scope.rightSidenav = {};\r\n\r\n\t\t// $scope.rightSidenav.show = true;\r\n\r\n\t\t$scope.editReport = function(id){\r\n\t\t\t$state.go('main.edit-report', {'reportID':id});\r\n\t\t};\r\n\r\n\t\t$scope.deleteReport = function(id){\r\n\t\t\tvar confirm = $mdDialog.confirm()\r\n\t\t        .title('Delete Report')\r\n\t\t        .content('Are you sure you want to delete this report?')\r\n\t\t        .ok('Delete')\r\n\t\t        .cancel('Cancel');\r\n\t\t    $mdDialog.show(confirm)\r\n\t\t    \t.then(function() {\r\n\t\t    \t\tPreloader.preload();\r\n\t\t\t    \tApproval.reportDelete(id)\r\n\t\t\t    \t\t.success(function(){\r\n\t\t\t    \t\t\tPreloader.stop();\r\n\t\t\t    \t\t\t$mdToast.show(\r\n\t\t\t\t\t\t    \t$mdToast.simple()\r\n\t\t\t\t\t\t\t        .content('Request has been submitted for approval.')\r\n\t\t\t\t\t\t\t        .position('bottom right')\r\n\t\t\t\t\t\t\t        .hideDelay(3000)\r\n\t\t\t\t\t\t    );\r\n\t\t\t    \t\t})\r\n\t\t\t    }, function() {\r\n\t\t\t    \treturn;\r\n\t\t\t    });\r\n\t\t}\r\n\t}]);","teamLeaderModule\r\n\t.controller('membersContentContainerController', ['$scope', '$mdDialog', 'Preloader', 'Member', 'User', function($scope, $mdDialog, Preloader, Member, User){\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.childState = 'Members';\r\n\t\t/**\r\n\t\t * Object for subheader\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.subheader = {};\r\n\t\t$scope.subheader.state = 'members';\r\n\r\n\t\t/* Refreshes the list */\r\n\t\t$scope.subheader.refresh = function(){\r\n\t\t\t// start preloader\r\n\t\t\tPreloader.preload();\r\n\t\t\t// clear member\r\n\t\t\t$scope.member.all = {};\r\n\t\t\t$scope.member.page = 2;\r\n\t\t\tMember.teamLeader($scope.toolbar.team_leader_id)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.member.all = data;\r\n\t\t\t\t\t$scope.member.all.show = true;\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t});\r\n\t\t};\r\n\t\t/**\r\n\t\t * Object for member\r\n\t\t *\r\n\t\t*/\r\n\t\tvar user = Preloader.getUser();\r\n\t\t$scope.member = {};\r\n\t\tif(!user){\r\n\t\t\tUser.index()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.toolbar.team_leader_id = data.id\r\n\t\t\t\t\tMember.teamLeader(data.id)\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t$scope.member.all = data;\r\n\t\t\t\t\t\t\t$scope.member.all.show = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\t\telse{\r\n\t\t\t$scope.toolbar.team_leader_id = user.id\r\n\t\t\tMember.teamLeader(user.id)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.member.all = data;\r\n\t\t\t\t\t$scope.member.all.show = true;\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Status of search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.searchBar = false;\r\n\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.toolbar.userInput = '';\r\n\t\t\t$scope.searchBar = false;\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.member.all.show = false;\r\n\t\t\tPreloader.preload()\r\n\t\t\tMember.search($scope.toolbar)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.member.results = data;\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(data){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.editMember = function(id){\r\n\t\t\tPreloader.set(id);\r\n\t\t\t$mdDialog.show({\r\n\t    \t\tcontroller: 'editMemberDialogController',\r\n\t\t      \ttemplateUrl: '/app/components/team-leader/templates/dialogs/edit-member.dialog.template.html',\r\n\t\t      \tparent: angular.element(document.body),\r\n\t\t    })\r\n\t\t    .then(function(){\r\n\t\t    \t$scope.subheader.refresh();\r\n\t\t    })\r\n\t\t}\r\n\r\n\t\t$scope.deleteMember = function(id){\r\n\t\t\tvar confirm = $mdDialog.confirm()\r\n\t\t        .title('Delete Member')\r\n\t\t        .content('This member will not be included to your report anymore.')\r\n\t\t        .ariaLabel('Delete Member')\r\n\t\t        .ok('Delete')\r\n\t\t        .cancel('Cancel');\r\n\t\t    $mdDialog.show(confirm).then(function() {\r\n\t\t      Member.delete(id)\r\n\t\t\t\t.success(function(){\r\n\t\t\t\t\t$scope.subheader.refresh();\r\n\t\t\t\t});\r\n\t\t    }, function() {\r\n\t\t      return;\r\n\t\t    });\t\t\t\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Object for content view\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\r\n\t\t$scope.fab.icon = 'mdi-plus';\r\n\t\t$scope.fab.label = 'Member';\r\n\t\t\r\n\t\t$scope.fab.show = true;\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\t$mdDialog.show({\r\n\t    \t\tcontroller: 'addMemberDialogController',\r\n\t\t      \ttemplateUrl: '/app/components/team-leader/templates/dialogs/add-member.dialog.template.html',\r\n\t\t      \tparent: angular.element(document.body),\r\n\t\t    })\r\n\t\t    .then(function(){\r\n\t\t    \t$scope.subheader.refresh();\r\n\t\t    })\r\n\t\t};\r\n\t}]);","teamLeaderModule\r\n\t.controller('notificationToastController', ['$scope', '$state', 'Preloader', function($scope, $state, Preloader){\r\n\t\t$scope.notification = Preloader.getNotification();\r\n\r\n\t\t$scope.viewNotification = function(){\r\n\t\t\t$state.go($scope.notification.state);\r\n\t\t};\r\n\t}]);","teamLeaderModule\r\n\t.controller('reportContentContainerController', ['$scope', '$state', '$mdDialog', '$mdToast', 'Preloader', 'Member', 'Project', 'Position', 'Performance', 'User', function($scope, $state, $mdDialog, $mdToast, Preloader, Member, Project, Position, Performance, User){\t\t\r\n\t\tvar user = Preloader.getUser();\r\n\t\tvar departmentID = null;\r\n\t\tvar busy = false;\r\n\t\t$scope.form = {};\r\n\r\n\t\t$scope.months = [\r\n\t\t\t'January',\r\n\t\t\t'February',\r\n\t\t\t'March',\r\n\t\t\t'April',\r\n\t\t\t'May',\r\n\t\t\t'June',\r\n\t\t\t'July',\r\n\t\t\t'August',\r\n\t\t\t'September',\r\n\t\t\t'October',\r\n\t\t\t'November',\r\n\t\t\t'December',\r\n\t\t];\r\n\t\t\r\n\t\t$scope.years = [];\r\n\t\t\r\n\t\tvar dateCreated = 2015;\r\n\r\n\t\t// will generate the dates that will be used in drop down menu\r\n\t\tfor (var i = new Date().getFullYear(); i >= dateCreated; i--) {\r\n\t\t\t$scope.years.push(i);\r\n\t\t};\r\n\r\n\t\t$scope.details = {};\r\n\t\t$scope.details.date_start_month = $scope.months[new Date().getMonth()];\r\n\t\t$scope.details.date_start_year = $scope.years[0];\r\n\t\t\r\n\t\t$scope.getMondays = function(){\r\n\t\t\t$scope.details.date_end = null;\r\n\t\t\t$scope.details.date_start = null;\r\n\t\t\t$scope.details.weekend = [];\r\n\t\t\tPerformance.getMondays($scope.details)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.mondays = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\r\n\t\t};\r\n\r\n\t\t$scope.getWeekends = function(){\t\r\n\t\t\t$scope.details.date_end = null;\t\r\n\t\t\t$scope.details.weekend = [];\r\n\t\t\tPerformance.getWeekends($scope.details)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.weekends = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\tif(!user){\r\n\t\t\tUser.index()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.user = data;\r\n\t\t\t\t\tdepartmentID = data.department_id;\r\n\t\t\t\t\tMember.updateTenure(data.id)\r\n\t\t\t\t\t\t.success(function(){\t\t\t\t\t\r\n\t\t\t\t\t\t\tMember.teamLeader(data.id)\r\n\t\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t\t$scope.members = data;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\tProject.department(departmentID)\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t$scope.projects = data;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t}\r\n\t\telse{\t\t\r\n\t\t\tdepartmentID = user.department_id;\r\n\t\t\tMember.teamLeader(user.id)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.members = data;\r\n\t\t\t\t});\r\n\t\t\tProject.department(user.department_id)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.projects = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.showPositions = function(id){\r\n\t\t\tPosition.project(id)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.positions = data;\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.hours = [\r\n\t\t\t{'value': 7.5},\r\n\t\t\t{'value': 8.3},\r\n\t\t\t{'value': 9.1},\r\n\t\t];\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.childState = 'Report';\r\n\t\t/**\r\n\t\t * Object for subheader\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.subheader = {};\r\n\t\t$scope.subheader.state = 'report';\r\n\r\n\t\t/**\r\n\t\t * Object for content view\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\r\n\t\t$scope.fab.icon = 'mdi-check';\r\n\t\t$scope.fab.label = 'Submit';\r\n\t\t\r\n\t\t$scope.fab.show = true;\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\t$scope.showErrors = true;\r\n\t\t\tif($scope.form.createReportForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.form.createReportForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$mdDialog.show(\r\n\t\t\t\t\t$mdDialog.alert()\r\n\t\t\t\t\t\t.parent(angular.element(document.body))\r\n\t\t\t\t\t\t.clickOutsideToClose(true)\r\n\t\t\t\t        .title('Error')\r\n\t\t\t\t        .content('Please complete the forms or check the errors.')\r\n\t\t\t\t        .ariaLabel('Error')\r\n\t\t\t\t        .ok('Got it!')\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tif(!busy){\r\n\t\t\t\t\tbusy = true;\r\n\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\tangular.forEach($scope.members, function(item){\r\n\t\t\t\t\t\titem.department_id = departmentID;\r\n\t\t\t\t\t\titem.date_start = $scope.details.date_start;\r\n\t\t\t\t\t\titem.date_end = $scope.details.date_end;\r\n\t\t\t\t\t\titem.project_id = $scope.details.project_id;\r\n\t\t\t\t\t\titem.daily_work_hours = $scope.details.daily_work_hours;\r\n\t\t\t\t\t\tcount = item.include ? count + 1 : count;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif(count){\r\n\t\t\t\t\t\tPreloader.preload();\r\n\t\t\t\t\t\tPerformance.store($scope.members)\r\n\t\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\t\t$mdToast.show(\r\n\t\t\t\t\t\t\t      \t$mdToast.simple()\r\n\t\t\t\t\t\t\t\t        .content('Report Submitted.')\r\n\t\t\t\t\t\t\t\t        .position('bottom right')\r\n\t\t\t\t\t\t\t\t        .hideDelay(3000)\r\n\t\t\t\t\t\t\t    );\r\n\t\t\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t\t\t\t$state.go('main');\r\n\t\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\t$mdDialog.show(\r\n\t\t\t\t\t\t\t$mdDialog.alert()\r\n\t\t\t\t\t\t\t\t.parent(angular.element(document.body))\r\n\t\t\t\t\t\t\t\t.clickOutsideToClose(true)\r\n\t\t\t\t\t\t        .title('Report not submitted.')\r\n\t\t\t\t\t\t        .content('Empty reports are not submitted.')\r\n\t\t\t\t\t\t        .ariaLabel('Empty Report')\r\n\t\t\t\t\t\t        .ok('Got it!')\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.checkLimit = function(idx){\r\n\t\t\t// gets the number of days worked in a day then multiply it to the daily work hours to get weekly limit\r\n\t\t\t$scope.details.weekly_hours = ((new Date($scope.details.date_end) - new Date($scope.details.date_start)) / (1000*60*60*24) + 1) * $scope.details.daily_work_hours;\r\n\t\t\tPerformance.checkLimit($scope.members[idx].id, $scope.details)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.members[idx].limit = data;\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\t$scope.members[idx].limit = $scope.details.weekly_hours;\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.resetMembers = function(){\r\n\t\t\t// $scope.checkLimit();\r\n\t\t\tangular.forEach($scope.members, function(item, key){\r\n\t\t\t\titem.hours_worked = null;\r\n\t\t\t\t$scope.checkLimit(key);\r\n\t\t\t});\r\n\t\t}\r\n\t}]);","teamLeaderModule\r\n\t.controller('addMemberDialogController', ['$scope', '$mdDialog', 'Preloader', 'User', 'Member', function($scope, $mdDialog, Preloader, User, Member){\r\n\t\tvar user = Preloader.getUser();\r\n\t\tvar busy = false;\r\n\t\tif(!user){\r\n\t\t\tUser.index()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tuser = data;\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t};\r\n\r\n\t\t$scope.member = {};\r\n\t\t$scope.member.team_leader_id = user.id;\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\t$scope.showErrors = true;\r\n\t\t\tbusy = true;\r\n\t\t\tif($scope.addMemberForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.addMemberForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t/* Starts Preloader */\r\n\t\t\t\tPreloader.preload();\r\n\t\t\t\t/**\r\n\t\t\t\t * Stores Single Record\r\n\t\t\t\t*/\r\n\t\t\t\tif(!busy){\r\n\t\t\t\t\tbusy = true;\r\n\t\t\t\t\tMember.store($scope.member)\r\n\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t// Stops Preloader \r\n\t\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t}, function(){\r\n\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\tbusy = false;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}]);","teamLeaderModule\r\n\t.controller('approvalsDialogController', ['$scope', '$mdDialog', 'Approval', 'PerformanceApproval', 'Preloader', function($scope, $mdDialog, Approval, PerformanceApproval, Preloader){\r\n\t\tvar approvalID = Preloader.get();\r\n\r\n\t\tApproval.details(approvalID)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.details = data;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t$scope.markAll = function(){\r\n\t\t\tif($scope.checkAll)\r\n\t\t\t{\r\n\t\t\t\t$scope.checkAll = true;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t$scope.checkAll = false;\r\n\t\t\t}\r\n\t\t\tangular.forEach($scope.details.request, function(item, key){\r\n\t\t\t\titem.include = !$scope.checkAll;\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\r\n\t\t$scope.cancelRequest = function(){\r\n\t\t\tPreloader.preload();\r\n\t\t\tApproval.delete(approvalID)\r\n\t\t\t\t.success(function(){\r\n\t\t\t\t\t// Stops Preloader \r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t}\r\n\t}]);","teamLeaderModule\r\n\t.controller('approvedApprovalsDetailsDialogController', ['$scope', '$mdDialog', 'Approval', 'PerformanceApproval', 'Preloader', function($scope, $mdDialog, Approval, PerformanceApproval, Preloader){\r\n\t\tvar performanceApprovalID = Preloader.get();\r\n\r\n\t\tPerformanceApproval.approvedDetails(performanceApprovalID)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.details = data;\r\n\t\t\t});\r\n\t\t\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\t}]);","teamLeaderModule\r\n\t.controller('declinedApprovalsDetailsDialogController', ['$scope', '$mdDialog', 'Approval', 'PerformanceApproval', 'Preloader', function($scope, $mdDialog, Approval, PerformanceApproval, Preloader){\r\n\t\tvar performanceApprovalID = Preloader.get();\r\n\r\n\t\tPerformanceApproval.declinedDetails(performanceApprovalID)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.details = data;\r\n\t\t\t});\r\n\t\t\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\t}]);","teamLeaderModule\r\n\t.controller('editMemberDialogController', ['$scope', '$mdDialog', 'Preloader', 'Member', function($scope, $mdDialog, Preloader, Member){\r\n\t\tvar member_id = Preloader.get();\r\n\t\tvar busy = false;\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t};\r\n\r\n\t\tMember.show(member_id)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.member = data;\r\n\t\t\t});\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\t$scope.showErrors = true;\r\n\t\t\tif($scope.editMemberForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.editMemberForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t/* Starts Preloader */\r\n\t\t\t\tPreloader.preload();\r\n\t\t\t\t/**\r\n\t\t\t\t * Stores Single Record\r\n\t\t\t\t*/\r\n\t\t\t\tif(!busy){\r\n\t\t\t\t\tbusy = true;\r\n\t\t\t\t\tMember.update(member_id, $scope.member)\r\n\t\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t\t// Stops Preloader \r\n\t\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t\t\tbusy = false; \r\n\t\t\t\t\t\t}, function(){\r\n\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t\tbusy = false; \r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}]);"],"sourceRoot":"/source/"}