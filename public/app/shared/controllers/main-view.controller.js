sharedModule
	.controller('mainViewController', ['$scope', '$mdSidenav', 'User', 'Preloader', function($scope, $mdSidenav, User, Preloader){
		/**
		 * Fetch authenticated user information
		 *
		*/
		User.index()
			.success(function(data){
				$scope.user = data;
				Preloader.setUser(data);
			});

		/**
		 * Toggles Left Sidenav
		 *
		*/
		$scope.toggleSidenav = function(menuId) {
		    $mdSidenav(menuId).toggle();
		};
	}]);